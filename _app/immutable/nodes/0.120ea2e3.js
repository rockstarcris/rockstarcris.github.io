import{s as X,f as N,a as w,g as C,h as k,d as b,c as H,j as v,r as B,i as E,u as T,v as y,w as Y,x as se,y as Z,z as x,l as j,m as L,n as ne,A as re,B as oe,p as le,C as ie,D as ce,E as fe,F as ue,G as _e,H as de,I as me,o as pe}from"../chunks/scheduler.e36e92f8.js";import{S as ee,i as ae,g as he,t as S,c as be,a as $,b as z,d as U,m as q,e as F,f as ge}from"../chunks/index.9bb3785f.js";import{d as ve,g as Ae,e as R}from"../chunks/state.68d0945b.js";import{I as Ie,a as G}from"../chunks/ingreso.component.cb79a85b.js";import{d as Te,m as te,p as J,c as Ne}from"../chunks/mantener-con-vida.function.b3d64ec2.js";import{a as Ce,E as K}from"../chunks/img.component.00fe73e4.js";import{C as ke}from"../chunks/cabecera-de-perfil.component.d5329bd9.js";import{n as Oe}from"../chunks/stores.7dd16afe.js";import{i as Pe,g as Ee,d as Be}from"../chunks/index.esm.56b6a403.js";const we=!0,Qe=Object.freeze(Object.defineProperty({__proto__:null,prerender:we},Symbol.toStringTag,{value:"Module"})),M={MAIN:[{TAB_CAPTION:"Inicio",ICON:"fas fa-home",PATH:""},{TAB_CAPTION:"Promociones",ICON:"fas fa-bullhorn",PATH:"promociones"},{TAB_CAPTION:"Anunciantes",ICON:"far fa-handshake",PATH:"anunciantes"},{TAB_CAPTION:"Sobre la App",ICON:"fas fa-solid fa-gear",PATH:"about"},{TAB_CAPTION:"Escríbenos",ICON:"fas fa-headset",PATH:"contacto"}],ANUNCIANTE:[{TAB_CAPTION:"Inicio",ICON:"fas fa-home",PATH:""},{TAB_CAPTION:"Tus Promociones",ICON:"fas fa-bullhorn",PATH:"tus-promociones"},{TAB_CAPTION:"Tus Anuncios",ICON:"far fa-handshake",PATH:"tus-anuncios"},{TAB_CAPTION:"Comentarios",ICON:"fas fa-comment",PATH:"comentarios"}]},He=async()=>{const t=await(await fetch("/firebase-config.json")).json(),e=Pe(t);return ve.set(Ee(e)),Ce.set(Ae(e)),Te(te(),1e4),e};function Q(t,e,a){const s=t.slice();return s[9]=e[a],s}function Se(t){let e,a,s,m=G.VER_PERFIL+"",c,n,u,r,f=G.SALIR+"",h,g,p,P;return e=new ke({props:{perfil:t[1],cargando:t[2]}}),{c(){z(e.$$.fragment),a=w(),s=N("a"),c=j(m),u=w(),r=N("button"),h=j(f),this.h()},l(o){U(e.$$.fragment,o),a=H(o),s=C(o,"A",{href:!0,class:!0});var d=k(s);c=L(d,m),d.forEach(b),u=H(o),r=C(o,"BUTTON",{class:!0});var l=k(r);h=L(l,f),l.forEach(b),this.h()},h(){v(s,"href","/perfil"),v(s,"class",n="btn "+(t[2]?K.BOTÓN_DESACTIVADO:"")),v(r,"class","text-main-color text-2xl mt-4 hover:text-light-color"),r.disabled=t[2]},m(o,d){q(e,o,d),E(o,a,d),E(o,s,d),T(s,c),E(o,u,d),E(o,r,d),T(r,h),g=!0,p||(P=y(r,"click",t[4]),p=!0)},p(o,d){const l={};d&2&&(l.perfil=o[1]),d&4&&(l.cargando=o[2]),e.$set(l),(!g||d&4&&n!==(n="btn "+(o[2]?K.BOTÓN_DESACTIVADO:"")))&&v(s,"class",n),(!g||d&4)&&(r.disabled=o[2])},i(o){g||($(e.$$.fragment,o),g=!0)},o(o){S(e.$$.fragment,o),g=!1},d(o){o&&(b(a),b(s),b(u),b(r)),F(e,o),p=!1,P()}}}function $e(t){let e,a;return e=new Ie({}),{c(){z(e.$$.fragment)},l(s){U(e.$$.fragment,s)},m(s,m){q(e,s,m),a=!0},p:oe,i(s){a||($(e.$$.fragment,s),a=!0)},o(s){S(e.$$.fragment,s),a=!1},d(s){F(e,s)}}}function W(t){let e,a,s,m,c=t[9].TAB_CAPTION+"",n,u;return{c(){e=N("a"),a=N("i"),m=N("span"),n=j(c),this.h()},l(r){e=C(r,"A",{"sveltekit:prefetch":!0,href:!0});var f=k(e);a=C(f,"I",{class:!0}),k(a).forEach(b),m=C(f,"SPAN",{});var h=k(m);n=L(h,c),h.forEach(b),f.forEach(b),this.h()},h(){v(a,"class",s=t[9].ICON),v(e,"sveltekit:prefetch",""),v(e,"href",u="/"+t[9].PATH)},m(r,f){E(r,e,f),T(e,a),T(e,m),T(m,n)},p(r,f){f&2&&s!==(s=r[9].ICON)&&v(a,"class",s),f&2&&c!==(c=r[9].TAB_CAPTION+"")&&ne(n,c),f&2&&u!==(u="/"+r[9].PATH)&&v(e,"href",u)},d(r){r&&b(e)}}}function De(t){let e,a,s,m,c,n,u,r,f,h,g,p;const P=[$e,Se],o=[];function d(i,A){return i[3]?0:1}n=d(t),u=o[n]=P[n](t);let l=R(t[1]&&t[1].membresia==="Anunciante"?M.ANUNCIANTE:M.MAIN),_=[];for(let i=0;i<l.length;i+=1)_[i]=W(Q(t,l,i));return{c(){e=N("div"),a=N("div"),s=N("i"),m=w(),c=N("div"),u.c(),r=w(),f=N("nav");for(let i=0;i<_.length;i+=1)_[i].c();this.h()},l(i){e=C(i,"DIV",{class:!0});var A=k(e);a=C(A,"DIV",{class:!0});var O=k(a);s=C(O,"I",{class:!0}),k(s).forEach(b),O.forEach(b),m=H(A),c=C(A,"DIV",{class:!0});var I=k(c);u.l(I),I.forEach(b),r=H(A),f=C(A,"NAV",{class:!0});var D=k(f);for(let V=0;V<_.length;V+=1)_[V].l(D);D.forEach(b),A.forEach(b),this.h()},h(){v(s,"class","fas fa-times"),v(a,"class","close-side-bar"),v(c,"class","profile"),B(c,"!py-8",t[3]),v(f,"class","navbar"),v(e,"class","side-bar"),B(e,"activado",t[0])},m(i,A){E(i,e,A),T(e,a),T(a,s),T(e,m),T(e,c),o[n].m(c,null),T(e,r),T(e,f);for(let O=0;O<_.length;O+=1)_[O]&&_[O].m(f,null);h=!0,g||(p=[y(s,"click",t[6]),y(e,"click",Y(t[5]))],g=!0)},p(i,[A]){let O=n;if(n=d(i),n===O?o[n].p(i,A):(he(),S(o[O],1,1,()=>{o[O]=null}),be(),u=o[n],u?u.p(i,A):(u=o[n]=P[n](i),u.c()),$(u,1),u.m(c,null)),(!h||A&8)&&B(c,"!py-8",i[3]),A&2){l=R(i[1]&&i[1].membresia==="Anunciante"?M.ANUNCIANTE:M.MAIN);let I;for(I=0;I<l.length;I+=1){const D=Q(i,l,I);_[I]?_[I].p(D,A):(_[I]=W(D),_[I].c(),_[I].m(f,null))}for(;I<_.length;I+=1)_[I].d(1);_.length=l.length}(!h||A&1)&&B(e,"activado",i[0])},i(i){h||($(u),h=!0)},o(i){S(u),h=!1},d(i){i&&b(e),o[n].d(),se(_,i),g=!1,Z(p)}}}function ye(t,e,a){let{activado:s}=e,m,c,n;const u=J.subscribe(p=>{a(1,m=p)}),r=Ne.subscribe(p=>{a(2,c=p.perfil)}),f=()=>{sessionStorage.removeItem("user_id"),J.set(void 0)};x(()=>{u(),r()});function h(p){re.call(this,t,p)}const g=()=>{a(0,s=!1)};return t.$$set=p=>{"activado"in p&&a(0,s=p.activado)},t.$$.update=()=>{t.$$.dirty&6&&a(3,n=!c&&!(m!=null&&m.correo))},[s,m,c,n,f,h,g]}class Me extends ee{constructor(e){super(),ae(this,e,ye,De,X,{activado:0})}}function Ve(t){let e,a,s,m,c,n,u='<i class="fas fa-bars"></i>',r,f,h,g;function p(l){t[5](l)}let P={};t[1]!==void 0&&(P.activado=t[1]),a=new Me({props:P}),le.push(()=>ge(a,"activado",p));const o=t[4].default,d=ie(o,t,t[3],null);return{c(){e=N("div"),z(a.$$.fragment),m=w(),c=N("div"),n=N("div"),n.innerHTML=u,r=w(),d&&d.c(),this.h()},l(l){e=C(l,"DIV",{class:!0});var _=k(e);U(a.$$.fragment,_),m=H(_),c=C(_,"DIV",{class:!0});var i=k(c);n=C(i,"DIV",{class:!0,"data-svelte-h":!0}),ce(n)!=="svelte-mrxqlz"&&(n.innerHTML=u),i.forEach(b),r=H(_),d&&d.l(_),_.forEach(b),this.h()},h(){v(n,"class","flex text-[2rem] text-[var(--black)] rounded-lg w-[4.5rem] h-[4.5rem] cursor-pointer lead-[4.4rem] bg-[var(--light-bg)] justify-center items-center"),v(c,"class","lg:hidden flex justify-end p-8 pb-0"),v(e,"class","layout"),B(e,"dark",t[0])},m(l,_){E(l,e,_),q(a,e,null),T(e,m),T(e,c),T(c,n),T(e,r),d&&d.m(e,null),f=!0,h||(g=[y(n,"click",Y(t[6])),y(e,"click",t[7])],h=!0)},p(l,[_]){const i={};!s&&_&2&&(s=!0,i.activado=l[1],fe(()=>s=!1)),a.$set(i),d&&d.p&&(!f||_&8)&&ue(d,o,l,l[3],f?de(o,l[3],_,null):_e(l[3]),null),(!f||_&1)&&B(e,"dark",l[0])},i(l){f||($(a.$$.fragment,l),$(d,l),f=!0)},o(l){S(a.$$.fragment,l),S(d,l),f=!1},d(l){l&&b(e),F(a),d&&d.d(l),h=!1,Z(g)}}}function je(t,e,a){let s;me(t,Oe,p=>a(2,s=p));let{$$slots:m={},$$scope:c}=e,n,u,r;pe(async()=>{a(0,n=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",p=>{a(0,n=p.matches)}),u=await He()}),x(()=>{u&&Be(u)});function f(p){r=p,a(1,r)}const h=()=>{a(1,r=!r)},g=()=>{a(1,r=!1)};return t.$$set=p=>{"$$scope"in p&&a(3,c=p.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&s&&te()},[n,r,s,c,m,f,h,g]}class We extends ee{constructor(e){super(),ae(this,e,je,Ve,X,{})}}export{We as component,Qe as universal};
