import{s as oe,f as $,a as O,l as w,g as E,h as I,d as u,c as H,m as q,j as k,i as S,u as g,n as R,A as se,y as J,J as fe,w as ee,o as ue,x as _e}from"../chunks/scheduler.a665a98d.js";import{S as ie,i as ce,a as P,g as Y,t as M,c as Z,b as K,d as U,m as W,e as X}from"../chunks/index.d0ee8e99.js";import{e as L}from"../chunks/state.1193ba7e.js";import{b as de,q as he}from"../chunks/index.esm.43a66c50.js";import{c as me,p as pe}from"../chunks/cargando.store.a942b023.js";import{C as ve,a as ge}from"../chunks/cabecera-de-perfil.component.9d51dadf.js";import{E as be}from"../chunks/estilos.constants.c7646e5a.js";import"../chunks/singletons.56bd98f6.js";import{Q as ke}from"../chunks/query-db.component.3d549771.js";const $e=!0;function Ee({params:r}){return{user_id:r.user_id}}const Ke=Object.freeze(Object.defineProperty({__proto__:null,load:Ee,prerender:$e},Symbol.toStringTag,{value:"Module"}));function te(r){let e,l;return e=new ke({props:{collection_id:r[3],clave:r[0].doc_clave,valor:r[1].id,sin_each:!0,$$slots:{cargando:[Ae],artículos:[De,({datos:t})=>({4:t}),({datos:t})=>t?16:0]},$$scope:{ctx:r}}}),{c(){K(e.$$.fragment)},l(t){U(e.$$.fragment,t)},m(t,n){W(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.clave=t[0].doc_clave),n&2&&(o.valor=t[1].id),n&49&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){M(e.$$.fragment,t),l=!1},d(t){X(e,t)}}}function ye(r){var t,n;let e=((n=r[0].is_array?(t=r[4][0])==null?void 0:t.lista:r[4])==null?void 0:n.length)+"",l;return{c(){l=w(e)},l(o){l=q(o,e)},m(o,a){S(o,l,a)},p(o,a){var f,p;a&17&&e!==(e=((p=o[0].is_array?(f=o[4][0])==null?void 0:f.lista:o[4])==null?void 0:p.length)+"")&&R(l,e)},d(o){o&&u(l)}}}function Ie(r){var n,o;let e,l=((o=r[0].is_array?(n=r[4][0])==null?void 0:n.lista:r[4])==null?void 0:o.length)+"",t;return{c(){e=$("a"),t=w(l),this.h()},l(a){e=E(a,"A",{href:!0,class:!0});var f=I(e);t=q(f,l),f.forEach(u),this.h()},h(){k(e,"href","/"+r[2].replace(/\_/g,"-")),k(e,"class","hover:underline")},m(a,f){S(a,e,f),g(e,t)},p(a,f){var p,s;f&17&&l!==(l=((s=a[0].is_array?(p=a[4][0])==null?void 0:p.lista:a[4])==null?void 0:s.length)+"")&&R(t,l)},d(a){a&&u(e)}}}function De(r){let e;function l(o,a){return o[2]?Ie:ye}let n=l(r)(r);return{c(){e=$("h3"),n.c(),this.h()},l(o){e=E(o,"H3",{slot:!0});var a=I(e);n.l(a),a.forEach(u),this.h()},h(){k(e,"slot","artículos")},m(o,a){S(o,e,a),n.m(e,null)},p(o,a){n.p(o,a)},d(o){o&&u(e),n.d()}}}function Ae(r){let e,l=" ";return{c(){e=$("h3"),e.textContent=l,this.h()},l(t){e=E(t,"H3",{class:!0,slot:!0,"data-svelte-h":!0}),se(e)!=="svelte-qtt1vd"&&(e.textContent=l),this.h()},h(){k(e,"class",be.CARGANDO),k(e,"slot","cargando")},m(t,n){S(t,e,n)},p:J,d(t){t&&u(e)}}}function Ce(r){let e,l=" ";return{c(){e=$("a"),e.textContent=l,this.h()},l(t){e=E(t,"A",{href:!0,class:!0,"data-svelte-h":!0}),se(e)!=="svelte-xo3mdz"&&(e.textContent=l),this.h()},h(){k(e,"href","#"),k(e,"class","inline-btn cursor-not-allowed pointer-events-none")},m(t,n){S(t,e,n)},p:J,d(t){t&&u(e)}}}function Se(r){let e,l,t=r[2].replace("_"," ")+"",n;return{c(){e=$("a"),l=w("Ver "),n=w(t),this.h()},l(o){e=E(o,"A",{href:!0,class:!0});var a=I(e);l=q(a,"Ver "),n=q(a,t),a.forEach(u),this.h()},h(){k(e,"href","/"+r[2].replace(/\_/g,"-")),k(e,"class","inline-btn")},m(o,a){S(o,e,a),g(e,l),g(e,n)},p:J,d(o){o&&u(e)}}}function Ve(r){var b;let e,l,t,n,o,a,f,p,s=r[0].descripción+"",i,_,D,m=((b=r[1])==null?void 0:b.id)&&te(r);function B(A,y){return A[2]?Se:Ce}let V=B(r)(r);return{c(){e=$("div"),l=$("div"),t=$("i"),o=O(),a=$("div"),m&&m.c(),f=O(),p=$("span"),i=w(s),_=O(),V.c(),this.h()},l(A){e=E(A,"DIV",{class:!0});var y=I(e);l=E(y,"DIV",{class:!0});var h=I(l);t=E(h,"I",{class:!0}),I(t).forEach(u),o=H(h),a=E(h,"DIV",{});var G=I(a);m&&m.l(G),f=H(G),p=E(G,"SPAN",{});var F=I(p);i=q(F,s),F.forEach(u),G.forEach(u),h.forEach(u),_=H(y),V.l(y),y.forEach(u),this.h()},h(){k(t,"class",n="fas fa-"+r[0].icono),k(l,"class","flex"),k(e,"class","box")},m(A,y){S(A,e,y),g(e,l),g(l,t),g(l,o),g(l,a),m&&m.m(a,null),g(a,f),g(a,p),g(p,i),g(e,_),V.m(e,null),D=!0},p(A,[y]){var h;(!D||y&1&&n!==(n="fas fa-"+A[0].icono))&&k(t,"class",n),(h=A[1])!=null&&h.id?m?(m.p(A,y),y&2&&P(m,1)):(m=te(A),m.c(),P(m,1),m.m(a,f)):m&&(Y(),M(m,1,1,()=>{m=null}),Z()),(!D||y&1)&&s!==(s=A[0].descripción+"")&&R(i,s),V.p(A,y)},i(A){D||(P(m),D=!0)},o(A){M(m),D=!1},d(A){A&&u(e),m&&m.d(),V.d()}}}function Pe(r,e,l){let{detalle:t}=e,{perfil:n}=e;const{enlace:o,clave:a}=t;return r.$$set=f=>{"detalle"in f&&l(0,t=f.detalle),"perfil"in f&&l(1,n=f.perfil)},[t,n,o,a]}class we extends ie{constructor(e){super(),ce(this,e,Pe,Ve,oe,{detalle:0,perfil:1})}}function le(r,e,l){const t=r.slice();return t[7]=e[l].icon,t[8]=e[l].clave,t[9]=e[l].descripción,t}function ae(r,e,l){const t=r.slice();return t[13]=e[l],t}function re(r){let e,l;return e=new we({props:{detalle:r[13],perfil:r[0]}}),{c(){K(e.$$.fragment)},l(t){U(e.$$.fragment,t)},m(t,n){W(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.perfil=t[0]),e.$set(o)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){M(e.$$.fragment,t),l=!1},d(t){X(e,t)}}}function qe(r){let e;return{c(){e=w("Sin registrar")},l(l){e=q(l,"Sin registrar")},m(l,t){S(l,e,t)},p:J,d(l){l&&u(e)}}}function Te(r){let e;return{c(){e=w(" ")},l(l){e=q(l," ")},m(l,t){S(l,e,t)},p:J,d(l){l&&u(e)}}}function Me(r){let e,l,t=r[8]+"",n,o;return{c(){e=$("a"),l=w("Mi "),n=w(t),this.h()},l(a){e=E(a,"A",{href:!0,target:!0});var f=I(e);l=q(f,"Mi "),n=q(f,t),f.forEach(u),this.h()},h(){var a;k(e,"href",o=(a=r[0])==null?void 0:a[r[8]]),k(e,"target","_blank")},m(a,f){S(a,e,f),g(e,l),g(e,n)},p(a,f){var p;f&1&&o!==(o=(p=a[0])==null?void 0:p[a[8]])&&k(e,"href",o)},d(a){a&&u(e)}}}function Oe(r){let e,l,t,n,o=r[9]+"",a;function f(i,_){var D;return(D=i[0])!=null&&D[i[8]]?Me:i[1]?Te:qe}let p=f(r),s=p(r);return{c(){e=$("h3"),s.c(),t=O(),n=$("span"),a=w(o),this.h()},l(i){e=E(i,"H3",{class:!0});var _=I(e);s.l(_),_.forEach(u),t=H(i),n=E(i,"SPAN",{});var D=I(n);a=q(D,o),D.forEach(u),this.h()},h(){k(e,"class",l=r[12])},m(i,_){S(i,e,_),s.m(e,null),S(i,t,_),S(i,n,_),g(n,a)},p(i,_){p===(p=f(i))&&s?s.p(i,_):(s.d(1),s=p(i),s&&(s.c(),s.m(e,null))),_&4096&&l!==(l=i[12])&&k(e,"class",l)},d(i){i&&(u(e),u(t),u(n)),s.d()}}}function ne(r){let e,l,t,n,o,a,f,p;return a=new ge({props:{cargando:r[1],$$slots:{default:[Oe,({class_name:s})=>({12:s}),({class_name:s})=>s?4096:0]},$$scope:{ctx:r}}}),{c(){e=$("div"),l=$("div"),t=$("i"),n=O(),o=$("div"),K(a.$$.fragment),f=O(),this.h()},l(s){e=E(s,"DIV",{class:!0});var i=I(e);l=E(i,"DIV",{class:!0});var _=I(l);t=E(_,"I",{class:!0}),I(t).forEach(u),n=H(_),o=E(_,"DIV",{});var D=I(o);U(a.$$.fragment,D),D.forEach(u),_.forEach(u),f=H(i),i.forEach(u),this.h()},h(){k(t,"class","fab fa-"+r[7]),k(l,"class","flex"),k(e,"class","box")},m(s,i){S(s,e,i),g(e,l),g(l,t),g(l,n),g(l,o),W(a,o,null),g(e,f),p=!0},p(s,i){const _={};i&2&&(_.cargando=s[1]),i&69635&&(_.$$scope={dirty:i,ctx:s}),a.$set(_)},i(s){p||(P(a.$$.fragment,s),p=!0)},o(s){M(a.$$.fragment,s),p=!1},d(s){s&&u(e),X(a)}}}function He(r){var F,x;let e,l,t,n,o,a=(((F=r[0])==null?void 0:F.nombre)??"")+"",f,p,s,i,_,D,m,B,N;document.title=e="Perfil "+(((x=r[0])==null?void 0:x.nombre)??""),_=new ve({props:{perfil:r[0],cargando:r[1]}});let V=L(r[2]),b=[];for(let c=0;c<V.length;c+=1)b[c]=re(ae(r,V,c));const A=c=>M(b[c],1,1,()=>{b[c]=null});let y=L(r[3]),h=[];for(let c=0;c<y.length;c+=1)h[c]=ne(le(r,y,c));const G=c=>M(h[c],1,1,()=>{h[c]=null});return{c(){l=O(),t=$("section"),n=$("h1"),o=w("Detalles Perfil "),f=w(a),p=O(),s=$("div"),i=$("div"),K(_.$$.fragment),D=O(),m=$("div");for(let c=0;c<b.length;c+=1)b[c].c();B=O();for(let c=0;c<h.length;c+=1)h[c].c();this.h()},l(c){fe("svelte-yv0l1o",document.head).forEach(u),l=H(c),t=E(c,"SECTION",{class:!0});var C=I(t);n=E(C,"H1",{class:!0});var Q=I(n);o=q(Q,"Detalles Perfil "),f=q(Q,a),Q.forEach(u),p=H(C),s=E(C,"DIV",{class:!0});var j=I(s);i=E(j,"DIV",{class:!0});var d=I(i);U(_.$$.fragment,d),d.forEach(u),D=H(j),m=E(j,"DIV",{class:!0});var T=I(m);for(let z=0;z<b.length;z+=1)b[z].l(T);B=H(T);for(let z=0;z<h.length;z+=1)h[z].l(T);T.forEach(u),j.forEach(u),C.forEach(u),this.h()},h(){k(n,"class","heading"),k(i,"class","user"),k(m,"class","box-container"),k(s,"class","details"),k(t,"class","profile")},m(c,v){S(c,l,v),S(c,t,v),g(t,n),g(n,o),g(n,f),g(t,p),g(t,s),g(s,i),W(_,i,null),g(s,D),g(s,m);for(let C=0;C<b.length;C+=1)b[C]&&b[C].m(m,null);g(m,B);for(let C=0;C<h.length;C+=1)h[C]&&h[C].m(m,null);N=!0},p(c,[v]){var Q,j;(!N||v&1)&&e!==(e="Perfil "+(((Q=c[0])==null?void 0:Q.nombre)??""))&&(document.title=e),(!N||v&1)&&a!==(a=(((j=c[0])==null?void 0:j.nombre)??"")+"")&&R(f,a);const C={};if(v&1&&(C.perfil=c[0]),v&2&&(C.cargando=c[1]),_.$set(C),v&5){V=L(c[2]);let d;for(d=0;d<V.length;d+=1){const T=ae(c,V,d);b[d]?(b[d].p(T,v),P(b[d],1)):(b[d]=re(T),b[d].c(),P(b[d],1),b[d].m(m,B))}for(Y(),d=V.length;d<b.length;d+=1)A(d);Z()}if(v&4107){y=L(c[3]);let d;for(d=0;d<y.length;d+=1){const T=le(c,y,d);h[d]?(h[d].p(T,v),P(h[d],1)):(h[d]=ne(T),h[d].c(),P(h[d],1),h[d].m(m,null))}for(Y(),d=y.length;d<h.length;d+=1)G(d);Z()}},i(c){if(!N){P(_.$$.fragment,c);for(let v=0;v<V.length;v+=1)P(b[v]);for(let v=0;v<y.length;v+=1)P(h[v]);N=!0}},o(c){M(_.$$.fragment,c),b=b.filter(Boolean);for(let v=0;v<b.length;v+=1)M(b[v]);h=h.filter(Boolean);for(let v=0;v<h.length;v+=1)M(h[v]);N=!1},d(c){c&&(u(l),u(t)),X(_),ee(b,c),ee(h,c)}}}function Ne(r,e,l){let{data:t}=e,n,o,a,f;const p=t.user_id==="yo"?[{icono:"bookmark",clave:"guardadas",enlace:"guardadas",doc_clave:"doc_id",descripción:"Promociones guardadas",is_array:!0},{icono:"heart",clave:"me_gustas",enlace:"me_gustas",doc_clave:"doc_id",descripción:"Anuncios Me Gustan",is_array:!0},{icono:"comment",clave:"comentarios",enlace:"comentarios",doc_clave:"user_id",descripción:"Anuncios comentados"}]:[{icono:"bookmark",clave:"lista_promociones",enlace:"promociones",doc_clave:"tutor_id",descripción:"Promociones Totales"},{icono:"bookmark",clave:"contenido",doc_clave:"tutor_id",descripción:"Anuncios Totales"}],s=[{icon:"facebook",clave:"facebook",descripción:"Facebook"},{icon:"instagram",clave:"instagram",descripción:"Instagram"}];return ue(async()=>{if(t.user_id==="yo")f=me.subscribe(i=>{l(1,o=i.perfil),!o&&(a=pe.subscribe(_=>{l(0,n=_),n?sessionStorage.setItem("user_id",n.id):de("ingreso",{state:{desde:"perfil"}})}))});else{l(1,o=!0);const i=(await he("usuarios","id",t.user_id))[0];l(0,n=i),l(1,o=!1)}}),_e(()=>{a==null||a(),f==null||f()}),r.$$set=i=>{"data"in i&&l(4,t=i.data)},[n,o,p,s,t]}class Ue extends ie{constructor(e){super(),ce(this,e,Ne,He,oe,{data:4})}}export{Ue as component,Ke as universal};
