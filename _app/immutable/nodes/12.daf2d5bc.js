import{s as G,a as T,f as v,l as R,c as M,g as b,h as C,m as z,d,i as j,u as _,n as se,A as ce,j as w,v as x,M as me,y as S,e as F,w as ie,J as _e,o as de}from"../chunks/scheduler.816f6b02.js";import{S as J,i as U,b as N,d as O,m as y,a as h,t as g,e as D,g as K,c as L}from"../chunks/index.ac55fbe5.js";import{e as H}from"../chunks/state.26aa9024.js";import"../chunks/paths.7646cfe1.js";import{q as ee,c as he}from"../chunks/index.esm.098bce7e.js";import{Q as ue}from"../chunks/query-db.component.3d2e2e09.js";import{I as fe,h as te,u as $e}from"../chunks/img.component.fb7e43f1.js";import{g as pe}from"../chunks/navigation.b493bfee.js";import{u as ge}from"../chunks/update-db.function.0d76548e.js";import{T as ve}from"../chunks/tutor-cargando.component.9d0ba63a.js";import{F as be}from"../chunks/fecha.component.20104caa.js";const ke=!0,Ue=Object.freeze(Object.defineProperty({__proto__:null,prerender:ke},Symbol.toStringTag,{value:"Module"}));function we(s){let t,o,e,n,c=s[0].nombre+"",l,a,r,u,$;return t=new fe({props:{src:"perfil/"+s[0].imagen,class:"w-[70px] h-[70px] rounded-full"}}),u=new be({props:{timestamp:s[0].fecha}}),{c(){N(t.$$.fragment),o=T(),e=v("div"),n=v("h3"),l=R(c),a=T(),r=v("span"),N(u.$$.fragment)},l(i){O(t.$$.fragment,i),o=M(i),e=b(i,"DIV",{});var f=C(e);n=b(f,"H3",{});var q=C(n);l=z(q,c),q.forEach(d),a=M(f),r=b(f,"SPAN",{});var E=C(r);O(u.$$.fragment,E),E.forEach(d),f.forEach(d)},m(i,f){y(t,i,f),j(i,o,f),j(i,e,f),_(e,n),_(n,l),_(e,a),_(e,r),y(u,r,null),$=!0},p(i,[f]){const q={};f&1&&(q.src="perfil/"+i[0].imagen),t.$set(q),(!$||f&1)&&c!==(c=i[0].nombre+"")&&se(l,c);const E={};f&1&&(E.timestamp=i[0].fecha),u.$set(E)},i(i){$||(h(t.$$.fragment,i),h(u.$$.fragment,i),$=!0)},o(i){g(t.$$.fragment,i),g(u.$$.fragment,i),$=!1},d(i){i&&(d(o),d(e)),D(t,i),D(u)}}}function Ee(s,t,o){let{tutor:e}=t;return s.$$set=n=>{"tutor"in n&&o(0,e=n.tutor)},[e]}class Ce extends J{constructor(t){super(),U(this,t,Ee,we,G,{tutor:0})}}function ne(s,t,o){const e=s.slice();return e[5]=t[o],e}function qe(s){return{c:S,l:S,m:S,p:S,i:S,o:S,d:S}}function Ie(s){let t,o,e=H(s[4]),n=[];for(let l=0;l<e.length;l+=1)n[l]=re(ne(s,e,l));const c=l=>g(n[l],1,1,()=>{n[l]=null});return{c(){for(let l=0;l<n.length;l+=1)n[l].c();t=F()},l(l){for(let a=0;a<n.length;a+=1)n[a].l(l);t=F()},m(l,a){for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(l,a);j(l,t,a),o=!0},p(l,a){if(a&1){e=H(l[4]);let r;for(r=0;r<e.length;r+=1){const u=ne(l,e,r);n[r]?(n[r].p(u,a),h(n[r],1)):(n[r]=re(u),n[r].c(),h(n[r],1),n[r].m(t.parentNode,t))}for(K(),r=e.length;r<n.length;r+=1)c(r);L()}},i(l){if(!o){for(let a=0;a<e.length;a+=1)h(n[a]);o=!0}},o(l){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)g(n[a]);o=!1},d(l){l&&d(t),ie(n,l)}}}function re(s){let t,o;return t=new Ce({props:{tutor:s[5]}}),{c(){N(t.$$.fragment)},l(e){O(t.$$.fragment,e)},m(e,n){y(t,e,n),o=!0},p(e,n){const c={};n&1&&(c.tutor=e[5]),t.$set(c)},i(e){o||(h(t.$$.fragment,e),o=!0)},o(e){g(t.$$.fragment,e),o=!1},d(e){D(t,e)}}}function Se(s){let t,o;return t=new ve({}),{c(){N(t.$$.fragment)},l(e){O(t.$$.fragment,e)},m(e,n){y(t,e,n),o=!0},p:S,i(e){o||(h(t.$$.fragment,e),o=!0)},o(e){g(t.$$.fragment,e),o=!1},d(e){D(t,e)}}}function Te(s){let t,o,e,n,c,l,a,r=s[0].título+"",u,$,i,f,q,E,P,I,W="eliminar",A,Q,X,p={ctx:s,current:null,token:null,hasCatch:!1,pending:Se,then:Ie,catch:qe,value:4,blocks:[,,,]};return te(e=ee("usuarios","id",s[0].tutor_id),p),c=new fe({props:{src:"contenido/"+s[0].miniatura}}),{c(){t=v("div"),o=v("div"),p.block.c(),n=T(),N(c.$$.fragment),l=T(),a=v("h3"),u=R(r),$=T(),i=v("form"),f=v("a"),q=R("ver contenido"),P=T(),I=v("button"),I.textContent=W,this.h()},l(k){t=b(k,"DIV",{class:!0});var m=C(t);o=b(m,"DIV",{class:!0});var V=C(o);p.block.l(V),V.forEach(d),n=M(m),O(c.$$.fragment,m),l=M(m),a=b(m,"H3",{class:!0});var Y=C(a);u=z(Y,r),Y.forEach(d),$=M(m),i=b(m,"FORM",{class:!0});var B=C(i);f=b(B,"A",{href:!0,class:!0});var Z=C(f);q=z(Z,"ver contenido"),Z.forEach(d),P=M(B),I=b(B,"BUTTON",{class:!0,"data-svelte-h":!0}),ce(I)!=="svelte-ncxcgs"&&(I.textContent=W),B.forEach(d),m.forEach(d),this.h()},h(){w(o,"class","tutor cursor-pointer"),w(a,"class","title"),w(f,"href",E="/ver-anuncio/"+s[0].promoción+"/"+s[0].id),w(f,"class","inline-btn w-[170px] !px-0"),w(I,"class","inline-delete-btn"),w(i,"class","flex-btn"),w(t,"class","box")},m(k,m){j(k,t,m),_(t,o),p.block.m(o,p.anchor=null),p.mount=()=>o,p.anchor=null,_(t,n),y(c,t,null),_(t,l),_(t,a),_(a,u),_(t,$),_(t,i),_(i,f),_(f,q),_(i,P),_(i,I),A=!0,Q||(X=[x(o,"click",s[2]),x(I,"click",s[3])],Q=!0)},p(k,[m]){s=k,p.ctx=s,m&1&&e!==(e=ee("usuarios","id",s[0].tutor_id))&&te(e,p)||$e(p,s,m);const V={};m&1&&(V.src="contenido/"+s[0].miniatura),c.$set(V),(!A||m&1)&&r!==(r=s[0].título+"")&&se(u,r),(!A||m&1&&E!==(E="/ver-anuncio/"+s[0].promoción+"/"+s[0].id))&&w(f,"href",E)},i(k){A||(h(p.block),h(c.$$.fragment,k),A=!0)},o(k){for(let m=0;m<3;m+=1){const V=p.blocks[m];g(V)}g(c.$$.fragment,k),A=!1},d(k){k&&d(t),p.block.d(),p.token=null,p=null,D(c),Q=!1,me(X)}}}function Me(s,t,o){let{contenido:e}=t;const n=async()=>{const a=sessionStorage.getItem("user_id");a&&await ge("me_gustas",a,{lista:he(e.id)})},c=()=>{pe(`/perfil/${e.tutor_id}`)},l=()=>{confirm("Quitar me gustan de este anuncio?"),n()};return s.$$set=a=>{"contenido"in a&&o(0,e=a.contenido)},[e,n,c,l]}class Ne extends J{constructor(t){super(),U(this,t,Me,Te,G,{contenido:0})}}function oe(s,t,o){const e=s.slice();return e[2]=t[o],e}function le(s){let t,o;return t=new ue({props:{collection_id:"me_gustas",clave:"doc_id",valor:s[0],$$slots:{artículo:[ye,({artículo:e})=>({1:e}),({artículo:e})=>e?2:0]},$$scope:{ctx:s}}}),{c(){N(t.$$.fragment)},l(e){O(t.$$.fragment,e)},m(e,n){y(t,e,n),o=!0},p(e,n){const c={};n&1&&(c.valor=e[0]),n&34&&(c.$$scope={dirty:n,ctx:e}),t.$set(c)},i(e){o||(h(t.$$.fragment,e),o=!0)},o(e){g(t.$$.fragment,e),o=!1},d(e){D(t,e)}}}function Oe(s){let t,o;return t=new Ne({props:{slot:"artículo",contenido:s[1]}}),{c(){N(t.$$.fragment)},l(e){O(t.$$.fragment,e)},m(e,n){y(t,e,n),o=!0},p(e,n){const c={};n&2&&(c.contenido=e[1]),t.$set(c)},i(e){o||(h(t.$$.fragment,e),o=!0)},o(e){g(t.$$.fragment,e),o=!1},d(e){D(t,e)}}}function ae(s){let t,o;return t=new ue({props:{collection_id:"contenido",clave:"id",valor:s[2],$$slots:{artículo:[Oe,({artículo:e})=>({1:e}),({artículo:e})=>e?2:0]},$$scope:{ctx:s}}}),{c(){N(t.$$.fragment)},l(e){O(t.$$.fragment,e)},m(e,n){y(t,e,n),o=!0},p(e,n){const c={};n&2&&(c.valor=e[2]),n&34&&(c.$$scope={dirty:n,ctx:e}),t.$set(c)},i(e){o||(h(t.$$.fragment,e),o=!0)},o(e){g(t.$$.fragment,e),o=!1},d(e){D(t,e)}}}function ye(s){let t,o,e=H(s[1].lista),n=[];for(let l=0;l<e.length;l+=1)n[l]=ae(oe(s,e,l));const c=l=>g(n[l],1,1,()=>{n[l]=null});return{c(){for(let l=0;l<n.length;l+=1)n[l].c();t=F()},l(l){for(let a=0;a<n.length;a+=1)n[a].l(l);t=F()},m(l,a){for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(l,a);j(l,t,a),o=!0},p(l,a){if(a&2){e=H(l[1].lista);let r;for(r=0;r<e.length;r+=1){const u=oe(l,e,r);n[r]?(n[r].p(u,a),h(n[r],1)):(n[r]=ae(u),n[r].c(),h(n[r],1),n[r].m(t.parentNode,t))}for(K(),r=e.length;r<n.length;r+=1)c(r);L()}},i(l){if(!o){for(let a=0;a<e.length;a+=1)h(n[a]);o=!0}},o(l){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)g(n[a]);o=!1},d(l){l&&d(t),ie(n,l)}}}function De(s){let t,o,e,n="contenido que me gustan",c,l,a,r=s[0]&&le(s);return{c(){t=T(),o=v("section"),e=v("h1"),e.textContent=n,c=T(),l=v("div"),r&&r.c(),this.h()},l(u){_e("svelte-pl1fgv",document.head).forEach(d),t=M(u),o=b(u,"SECTION",{class:!0});var i=C(o);e=b(i,"H1",{class:!0,"data-svelte-h":!0}),ce(e)!=="svelte-f4vfi7"&&(e.textContent=n),c=M(i),l=b(i,"DIV",{class:!0});var f=C(l);r&&r.l(f),f.forEach(d),i.forEach(d),this.h()},h(){document.title="Me Gustas",w(e,"class","heading"),w(l,"class","box-container"),w(o,"class","liked-videos")},m(u,$){j(u,t,$),j(u,o,$),_(o,e),_(o,c),_(o,l),r&&r.m(l,null),a=!0},p(u,[$]){u[0]?r?(r.p(u,$),$&1&&h(r,1)):(r=le(u),r.c(),h(r,1),r.m(l,null)):r&&(K(),g(r,1,1,()=>{r=null}),L())},i(u){a||(h(r),a=!0)},o(u){g(r),a=!1},d(u){u&&(d(t),d(o)),r&&r.d()}}}function Ve(s,t,o){let e;return de(()=>{o(0,e=sessionStorage.getItem("user_id"))}),[e]}class Ke extends J{constructor(t){super(),U(this,t,Ve,De,G,{})}}export{Ke as component,Ue as universal};
