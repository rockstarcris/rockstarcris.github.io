import{s as j,f as d,g as p,A as fe,j as E,i as $,L as gt,y as O,d as f,o as dt,x as $t,h as b,v as Be,e as y,a as V,l as U,c as N,m as Y,u,n as x,w as Xe,R as Ze,r as Oe,p as Et,C as vt,J as bt}from"../chunks/scheduler.816f6b02.js";import{S as H,i as F,b as S,d as R,m as I,a as _,t as v,e as L,g as oe,c as re,f as Tt}from"../chunks/index.ac55fbe5.js";import{T as wt}from"../chunks/Toaster.2327acb6.js";import{e as ue}from"../chunks/state.26aa9024.js";import"../chunks/paths.7646cfe1.js";import{q as ye,c as kt,e as Ct}from"../chunks/index.esm.098bce7e.js";import{Q as $e}from"../chunks/query-db.component.3d2e2e09.js";import{p as pt}from"../chunks/mantener-con-vida.function.edacd93e.js";import{p as At}from"../chunks/prueba.function.1b6175a7.js";import{c as Pt}from"../chunks/create-form.f8a87971.js";import{v as Ot}from"../chunks/v4.a960c1f4.js";import{g as ht}from"../chunks/navigation.b493bfee.js";import{p as St}from"../chunks/cargando.store.d89b5574.js";import{I as je,h as xe,u as Rt}from"../chunks/img.component.fb7e43f1.js";import{F as He}from"../chunks/fecha.component.20104caa.js";import{C as It,B as Lt}from"../chunks/borrar-comentario.component.ac7a2501.js";import{E as Vt}from"../chunks/estilos.constants.ef6e286e.js";import{u as Nt}from"../chunks/update-db.function.0d76548e.js";const J={YOUTUBE_TEST:/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/|youtu\.be\/)/,YOUTUBE_REPLACE:/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:live\/)?)?(?:youtu\.be\/)?(.+)$/,YOUTUBE_REPLACE_TO:"https://www.youtube.com/embed/$1",VIMEO_TEST:/^(?:https?:\/\/)?(?:www\.)?(?:player\.)?vimeo\.com\//,VIMEO_REPLACE:/^(?:https?:\/\/)?(?:www\.)?vimeo\.com\/(\d+)$/,VIMEO_REPLACE_TO:"https://player.vimeo.com/video/$1",ODYSEE_TEST:/^https:\/\/(odysee\.com|odysee\.com\/\$\/embed)\/(@[^:]+:[^\/]+\/[^?]+)(\?r=[^&]+)?$/,ODYSEE_REPLACE:/https:\/\/odysee\.com\/(.+)/g,ODYSEE_REPLACE_TO:"https://odysee.com/$/embed/$1"},et=[{TITLE:"YouTube",ALLOW:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",TEST_REGEX:J.YOUTUBE_TEST,REPLACE_REGEX:J.YOUTUBE_REPLACE,REPLACE_TO:J.YOUTUBE_REPLACE_TO},{TITLE:"Vimeo",TEST_REGEX:J.VIMEO_TEST,REPLACE_REGEX:J.VIMEO_REPLACE,REPLACE_TO:J.VIMEO_REPLACE_TO},{TITLE:"Odysee",TEST_REGEX:J.ODYSEE_TEST,REPLACE_REGEX:J.ODYSEE_REPLACE,REPLACE_TO:J.ODYSEE_REPLACE_TO}],Dt="auto";function Mt({params:r}){return{promoción_id:r.promocion_id,contenido_id:r.contenido_id}}const Hn=Object.freeze(Object.defineProperty({__proto__:null,load:Mt,prerender:Dt},Symbol.toStringTag,{value:"Module"}));function qt(r){let t,o='<textarea name="comentario" required="" placeholder="Escribe tu comentario..." maxlength="1000" cols="30" rows="10"></textarea> <input type="submit" value="Comentar" class="inline-btn"/>',e,n;return{c(){t=d("form"),t.innerHTML=o,this.h()},l(i){t=p(i,"FORM",{class:!0,"data-svelte-h":!0}),fe(t)!=="svelte-19ro58i"&&(t.innerHTML=o),this.h()},h(){E(t,"class","add-comment")},m(i,s){$(i,t,s),e||(n=gt(r[0].call(null,t)),e=!0)},p:O,i:O,o:O,d(i){i&&f(t),e=!1,n()}}}function Ut(r,t,o){let{contenido_id:e,promoción_id:n}=t,i;dt(async()=>{i=(await ye("contenido","id",e))[0]});const{form:s}=Pt({onSubmit:async l=>{const a=Ot();await At(async()=>{pt("comentarios",a,{...l,id:a,tutor_id:i.tutor_id,fecha:new Date().getTime(),user_id:sessionStorage.getItem("user_id"),contenido_id:e,promocion_id:n})})}});return r.$$set=l=>{"contenido_id"in l&&o(1,e=l.contenido_id),"promoción_id"in l&&o(2,n=l.promoción_id)},[s,e,n]}class Yt extends H{constructor(t){super(),F(this,t,Ut,qt,j,{contenido_id:1,promoción_id:2})}}function Gt(r){let t,o,e,n,i=r[4].nombre+"",s,l,a,c,C;return t=new je({props:{src:"/perfil/"+r[4].imagen}}),c=new He({props:{timestamp:r[0].fecha}}),{c(){S(t.$$.fragment),o=V(),e=d("div"),n=d("h3"),s=U(i),l=V(),a=d("span"),S(c.$$.fragment)},l(g){R(t.$$.fragment,g),o=N(g),e=p(g,"DIV",{});var A=b(e);n=p(A,"H3",{});var m=b(n);s=Y(m,i),m.forEach(f),l=N(A),a=p(A,"SPAN",{});var k=b(a);R(c.$$.fragment,k),k.forEach(f),A.forEach(f)},m(g,A){I(t,g,A),$(g,o,A),$(g,e,A),u(e,n),u(n,s),u(e,l),u(e,a),I(c,a,null),C=!0},p(g,A){const m={};A&16&&(m.src="/perfil/"+g[4].imagen),t.$set(m),(!C||A&16)&&i!==(i=g[4].nombre+"")&&x(s,i);const k={};A&1&&(k.timestamp=g[0].fecha),c.$set(k)},i(g){C||(_(t.$$.fragment,g),_(c.$$.fragment,g),C=!0)},o(g){v(t.$$.fragment,g),v(c.$$.fragment,g),C=!1},d(g){g&&(f(o),f(e)),L(t,g),L(c)}}}function yt(r){let t,o,e,n,i;return o=new $e({props:{collection_id:"usuarios",clave:"id",valor:r[0].user_id,$$slots:{artículo:[Gt,({artículo:s})=>({4:s}),({artículo:s})=>s?16:0]},$$scope:{ctx:r}}}),{c(){t=d("div"),S(o.$$.fragment),this.h()},l(s){t=p(s,"DIV",{class:!0,slot:!0});var l=b(t);R(o.$$.fragment,l),l.forEach(f),this.h()},h(){E(t,"class","user cursor-pointer"),E(t,"slot","título")},m(s,l){$(s,t,l),I(o,t,null),e=!0,n||(i=Be(t,"click",r[2]),n=!0)},p(s,l){const a={};l&1&&(a.valor=s[0].user_id),l&49&&(a.$$scope={dirty:l,ctx:s}),o.$set(a)},i(s){e||(_(o.$$.fragment,s),e=!0)},o(s){v(o.$$.fragment,s),e=!1},d(s){s&&f(t),L(o),n=!1,i()}}}function tt(r){let t,o;return t=new Lt({props:{slot:"borrar",comentario:r[0]}}),{c(){S(t.$$.fragment)},l(e){R(t.$$.fragment,e)},m(e,n){I(t,e,n),o=!0},p(e,n){const i={};n&1&&(i.comentario=e[0]),t.$set(i)},i(e){o||(_(t.$$.fragment,e),o=!0)},o(e){v(t.$$.fragment,e),o=!1},d(e){L(t,e)}}}function Bt(r){let t,o,e=r[1]&&(r[1].membresia==="Anunciante"||r[1].id===r[0].user_id)&&tt(r);return{c(){e&&e.c(),t=y()},l(n){e&&e.l(n),t=y()},m(n,i){e&&e.m(n,i),$(n,t,i),o=!0},p(n,i){n[1]&&(n[1].membresia==="Anunciante"||n[1].id===n[0].user_id)?e?(e.p(n,i),i&3&&_(e,1)):(e=tt(n),e.c(),_(e,1),e.m(t.parentNode,t)):e&&(oe(),v(e,1,1,()=>{e=null}),re())},i(n){o||(_(e),o=!0)},o(n){v(e),o=!1},d(n){n&&f(t),e&&e.d(n)}}}function Xt(r){let t,o;return t=new It({props:{comentario:r[0],$$slots:{borrar:[Bt],título:[yt]},$$scope:{ctx:r}}}),{c(){S(t.$$.fragment)},l(e){R(t.$$.fragment,e)},m(e,n){I(t,e,n),o=!0},p(e,[n]){const i={};n&1&&(i.comentario=e[0]),n&35&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){o||(_(t.$$.fragment,e),o=!0)},o(e){v(t.$$.fragment,e),o=!1},d(e){L(t,e)}}}function jt(r,t,o){let{comentario:e}=t,n;const i=St.subscribe(l=>{o(1,n=l)});$t(i);const s=()=>{ht(`/perfil/${e.user_id}`)};return r.$$set=l=>{"comentario"in l&&o(0,e=l.comentario)},[e,n,s]}class Ht extends H{constructor(t){super(),F(this,t,jt,Xt,j,{comentario:0})}}function Ft(r){let t,o,e;return o=new Ht({props:{comentario:r[2]}}),{c(){t=d("div"),S(o.$$.fragment),this.h()},l(n){t=p(n,"DIV",{class:!0,slot:!0});var i=b(t);R(o.$$.fragment,i),i.forEach(f),this.h()},h(){E(t,"class","box"),E(t,"slot","artículo")},m(n,i){$(n,t,i),I(o,t,null),e=!0},p(n,i){const s={};i&4&&(s.comentario=n[2]),o.$set(s)},i(n){e||(_(o.$$.fragment,n),e=!0)},o(n){v(o.$$.fragment,n),e=!1},d(n){n&&f(t),L(o)}}}function zt(r){let t,o="Se el primero en comentar!";return{c(){t=d("p"),t.textContent=o,this.h()},l(e){t=p(e,"P",{class:!0,slot:!0,"data-svelte-h":!0}),fe(t)!=="svelte-scewzj"&&(t.textContent=o),this.h()},h(){E(t,"class","empty"),E(t,"slot","vacío")},m(e,n){$(e,t,n)},p:O,d(e){e&&f(t)}}}function Qt(r){let t,o,e="Agrega un comentario",n,i,s,l,a="Comentarios Rock",c,C,g,A;return i=new Yt({props:{contenido_id:r[0],promoción_id:r[1]}}),g=new $e({props:{collection_id:"comentarios",clave:"contenido_id",valor:r[0],$$slots:{vacío:[zt],artículo:[Ft,({artículo:m})=>({2:m}),({artículo:m})=>m?4:0]},$$scope:{ctx:r}}}),{c(){t=d("section"),o=d("h1"),o.textContent=e,n=V(),S(i.$$.fragment),s=V(),l=d("h1"),l.textContent=a,c=V(),C=d("div"),S(g.$$.fragment),this.h()},l(m){t=p(m,"SECTION",{class:!0});var k=b(t);o=p(k,"H1",{class:!0,"data-svelte-h":!0}),fe(o)!=="svelte-1n1u2ho"&&(o.textContent=e),n=N(k),R(i.$$.fragment,k),s=N(k),l=p(k,"H1",{class:!0,"data-svelte-h":!0}),fe(l)!=="svelte-1lb57hy"&&(l.textContent=a),c=N(k),C=p(k,"DIV",{class:!0});var w=b(C);R(g.$$.fragment,w),w.forEach(f),k.forEach(f),this.h()},h(){E(o,"class","heading"),E(l,"class","heading"),E(C,"class","show-comments"),E(t,"class","comments")},m(m,k){$(m,t,k),u(t,o),u(t,n),I(i,t,null),u(t,s),u(t,l),u(t,c),u(t,C),I(g,C,null),A=!0},p(m,[k]){const w={};k&1&&(w.contenido_id=m[0]),k&2&&(w.promoción_id=m[1]),i.$set(w);const P={};k&1&&(P.valor=m[0]),k&12&&(P.$$scope={dirty:k,ctx:m}),g.$set(P)},i(m){A||(_(i.$$.fragment,m),_(g.$$.fragment,m),A=!0)},o(m){v(i.$$.fragment,m),v(g.$$.fragment,m),A=!1},d(m){m&&f(t),L(i),L(g)}}}function Wt(r,t,o){let{contenido_id:e}=t,{promoción_id:n}=t;return r.$$set=i=>{"contenido_id"in i&&o(0,e=i.contenido_id),"promoción_id"in i&&o(1,n=i.promoción_id)},[e,n]}class Jt extends H{constructor(t){super(),F(this,t,Wt,Qt,j,{contenido_id:0,promoción_id:1})}}function nt(r,t,o){const e=r.slice();return e[1]=t[o],e}function ot(r){let t,o;return{c(){t=d("iframe"),this.h()},l(e){t=p(e,"IFRAME",{class:!0,src:!0,title:!0,frameborder:!0,allow:!0}),b(t).forEach(f),this.h()},h(){E(t,"class","aspect-video w-full"),Ze(t.src,o=r[0].replace(r[1].REPLACE_REGEX,r[1].REPLACE_TO))||E(t,"src",o),E(t,"title","YouTube video player"),E(t,"frameborder","0"),E(t,"allow",r[1].ALLOW),t.allowFullscreen=!0},m(e,n){$(e,t,n)},p(e,n){n&1&&!Ze(t.src,o=e[0].replace(e[1].REPLACE_REGEX,e[1].REPLACE_TO))&&E(t,"src",o)},d(e){e&&f(t)}}}function rt(r){let t=r[0].match(r[1].TEST_REGEX),o,e=t&&ot(r);return{c(){e&&e.c(),o=y()},l(n){e&&e.l(n),o=y()},m(n,i){e&&e.m(n,i),$(n,o,i)},p(n,i){i&1&&(t=n[0].match(n[1].TEST_REGEX)),t?e?e.p(n,i):(e=ot(n),e.c(),e.m(o.parentNode,o)):e&&(e.d(1),e=null)},d(n){n&&f(o),e&&e.d(n)}}}function Kt(r){let t,o=ue(et),e=[];for(let n=0;n<o.length;n+=1)e[n]=rt(nt(r,o,n));return{c(){for(let n=0;n<e.length;n+=1)e[n].c();t=y()},l(n){for(let i=0;i<e.length;i+=1)e[i].l(n);t=y()},m(n,i){for(let s=0;s<e.length;s+=1)e[s]&&e[s].m(n,i);$(n,t,i)},p(n,[i]){if(i&1){o=ue(et);let s;for(s=0;s<o.length;s+=1){const l=nt(n,o,s);e[s]?e[s].p(l,i):(e[s]=rt(l),e[s].c(),e[s].m(t.parentNode,t))}for(;s<e.length;s+=1)e[s].d(1);e.length=o.length}},i:O,o:O,d(n){n&&f(t),Xe(e,n)}}}function Zt(r,t,o){let{url:e}=t;return r.$$set=n=>{"url"in n&&o(0,e=n.url)},[e]}class xt extends H{constructor(t){super(),F(this,t,Zt,Kt,j,{url:0})}}function en(r){let t,o,e,n,i=r[0].nombre+"",s,l,a,c=r[0].profesión+"",C,g,A,m,k;return t=new je({props:{src:"perfil/"+r[0].imagen}}),m=new He({props:{timestamp:r[0].fecha}}),{c(){S(t.$$.fragment),o=V(),e=d("div"),n=d("h3"),s=U(i),l=V(),a=d("span"),C=U(c),g=V(),A=d("span"),S(m.$$.fragment)},l(w){R(t.$$.fragment,w),o=N(w),e=p(w,"DIV",{});var P=b(e);n=p(P,"H3",{});var G=b(n);s=Y(G,i),G.forEach(f),l=N(P),a=p(P,"SPAN",{});var X=b(a);C=Y(X,c),X.forEach(f),g=N(P),A=p(P,"SPAN",{});var ie=b(A);R(m.$$.fragment,ie),ie.forEach(f),P.forEach(f)},m(w,P){I(t,w,P),$(w,o,P),$(w,e,P),u(e,n),u(n,s),u(e,l),u(e,a),u(a,C),u(e,g),u(e,A),I(m,A,null),k=!0},p(w,[P]){const G={};P&1&&(G.src="perfil/"+w[0].imagen),t.$set(G),(!k||P&1)&&i!==(i=w[0].nombre+"")&&x(s,i),(!k||P&1)&&c!==(c=w[0].profesión+"")&&x(C,c);const X={};P&1&&(X.timestamp=w[0].fecha),m.$set(X)},i(w){k||(_(t.$$.fragment,w),_(m.$$.fragment,w),k=!0)},o(w){v(t.$$.fragment,w),v(m.$$.fragment,w),k=!1},d(w){w&&(f(o),f(e)),L(t,w),L(m)}}}function tn(r,t,o){let{tutor:e}=t;return r.$$set=n=>{"tutor"in n&&o(0,e=n.tutor)},[e]}class nn extends H{constructor(t){super(),F(this,t,tn,en,j,{tutor:0})}}function on(r){let t;return{c(){t=U("me gusta")},l(o){t=Y(o,"me gusta")},m(o,e){$(o,t,e)},d(o){o&&f(t)}}}function rn(r){let t;return{c(){t=U("me guste")},l(o){t=Y(o,"me guste")},m(o,e){$(o,t,e)},d(o){o&&f(t)}}}function sn(r){let t;function o(i,s){return i[0]?rn:on}let e=o(r),n=e(r);return{c(){n.c(),t=y()},l(i){n.l(i),t=y()},m(i,s){n.m(i,s),$(i,t,s)},p(i,[s]){e!==(e=o(i))&&(n.d(1),n=e(i),n&&(n.c(),n.m(t.parentNode,t)))},i:O,o:O,d(i){i&&f(t),n.d(i)}}}function ln(r,t,o){let{me_gustas:e}=t,{me_guste:n}=t,{contenido_id:i}=t;return r.$$set=s=>{"me_gustas"in s&&o(1,e=s.me_gustas),"me_guste"in s&&o(0,n=s.me_guste),"contenido_id"in s&&o(2,i=s.contenido_id)},r.$$.update=()=>{r.$$.dirty&6&&o(0,n=e==null?void 0:e.includes(i))},[n,e,i]}class an extends H{constructor(t){super(),F(this,t,ln,sn,j,{me_gustas:1,me_guste:0,contenido_id:2})}}function it(r){let t,o;return t=new $e({props:{collection_id:"me_gustas",clave:"doc_id",valor:r[0],$$slots:{cargando:[fn],artículo:[cn,({artículo:e})=>({6:e}),({artículo:e})=>e?64:0]},$$scope:{ctx:r}}}),{c(){S(t.$$.fragment)},l(e){R(t.$$.fragment,e)},m(e,n){I(t,e,n),o=!0},p(e,n){const i={};n&1&&(i.valor=e[0]),n&206&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){o||(_(t.$$.fragment,e),o=!0)},o(e){v(t.$$.fragment,e),o=!1},d(e){L(t,e)}}}function cn(r){let t,o,e,n;function i(l){r[5](l)}let s={me_gustas:r[6].lista,contenido_id:r[1]};return r[2]!==void 0&&(s.me_guste=r[2]),o=new an({props:s}),Et.push(()=>Tt(o,"me_guste",i)),{c(){t=d("span"),S(o.$$.fragment),this.h()},l(l){t=p(l,"SPAN",{class:!0,slot:!0});var a=b(t);R(o.$$.fragment,a),a.forEach(f),this.h()},h(){E(t,"class","capitalize"),E(t,"slot","artículo"),Oe(t,"animate-pulse",r[3])},m(l,a){$(l,t,a),I(o,t,null),n=!0},p(l,a){const c={};a&64&&(c.me_gustas=l[6].lista),a&2&&(c.contenido_id=l[1]),!e&&a&4&&(e=!0,c.me_guste=l[2],vt(()=>e=!1)),o.$set(c),(!n||a&8)&&Oe(t,"animate-pulse",l[3])},i(l){n||(_(o.$$.fragment,l),n=!0)},o(l){v(o.$$.fragment,l),n=!1},d(l){l&&f(t),L(o)}}}function fn(r){let t,o=" ";return{c(){t=d("span"),t.textContent=o,this.h()},l(e){t=p(e,"SPAN",{class:!0,slot:!0,"data-svelte-h":!0}),fe(t)!=="svelte-olhqzg"&&(t.textContent=o),this.h()},h(){E(t,"class","capitalize "+Vt.CARGANDO_SPAN),E(t,"slot","cargando")},m(e,n){$(e,t,n)},p:O,d(e){e&&f(t)}}}function un(r){let t,o,e,n,i,s,l=r[0]&&it(r);return{c(){t=d("button"),o=d("i"),e=V(),l&&l.c(),this.h()},l(a){t=p(a,"BUTTON",{});var c=b(t);o=p(c,"I",{class:!0}),b(o).forEach(f),e=N(c),l&&l.l(c),c.forEach(f),this.h()},h(){E(o,"class","far fa-heart"),Oe(o,"fas",r[2])},m(a,c){$(a,t,c),u(t,o),u(t,e),l&&l.m(t,null),n=!0,i||(s=Be(t,"click",r[4]),i=!0)},p(a,[c]){(!n||c&4)&&Oe(o,"fas",a[2]),a[0]?l?(l.p(a,c),c&1&&_(l,1)):(l=it(a),l.c(),_(l,1),l.m(t,null)):l&&(oe(),v(l,1,1,()=>{l=null}),re())},i(a){n||(_(l),n=!0)},o(a){v(l),n=!1},d(a){a&&f(t),l&&l.d(),i=!1,s()}}}function _n(r,t,o){let{user_id:e}=t,{contenido_id:n}=t,i,s;const l=async()=>{const c=async()=>{await Nt("me_gustas",e,{lista:(i?kt:Ct)(n)})};o(3,s=!0);try{await c()}catch(C){C.message.includes("No document to update")&&(await pt("me_gustas",e,{lista:[n]}),await c())}o(3,s=!1)};function a(c){i=c,o(2,i)}return r.$$set=c=>{"user_id"in c&&o(0,e=c.user_id),"contenido_id"in c&&o(1,n=c.contenido_id)},[e,n,i,s,l,a]}class mn extends H{constructor(t){super(),F(this,t,_n,un,j,{user_id:0,contenido_id:1})}}function st(r,t,o){const e=r.slice();return e[6]=t[o],e}function lt(r,t,o){const e=r.slice();return e[10]=t[o],e}function at(r){let t,o,e=ue(r[2].videos),n=[];for(let l=0;l<e.length;l+=1)n[l]=ft(lt(r,e,l));const i=l=>v(n[l],1,1,()=>{n[l]=null});let s=null;return e.length||(s=ct()),{c(){for(let l=0;l<n.length;l+=1)n[l].c();t=y(),s&&s.c()},l(l){for(let a=0;a<n.length;a+=1)n[a].l(l);t=y(),s&&s.l(l)},m(l,a){for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(l,a);$(l,t,a),s&&s.m(l,a),o=!0},p(l,a){if(a&4){e=ue(l[2].videos);let c;for(c=0;c<e.length;c+=1){const C=lt(l,e,c);n[c]?(n[c].p(C,a),_(n[c],1)):(n[c]=ft(C),n[c].c(),_(n[c],1),n[c].m(t.parentNode,t))}for(oe(),c=e.length;c<n.length;c+=1)i(c);re(),!e.length&&s?s.p(l,a):e.length?s&&(s.d(1),s=null):(s=ct(),s.c(),s.m(t.parentNode,t))}},i(l){if(!o){for(let a=0;a<e.length;a+=1)_(n[a]);o=!0}},o(l){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)v(n[a]);o=!1},d(l){l&&f(t),Xe(n,l),s&&s.d(l)}}}function ct(r){let t,o=`Aún no se agregan anuncios!
				<a href="#" class="btn" style="margin-top: 1.5rem;">add videos</a> `;return{c(){t=d("p"),t.innerHTML=o,this.h()},l(e){t=p(e,"P",{class:!0,"data-svelte-h":!0}),fe(t)!=="svelte-10vzas2"&&(t.innerHTML=o),this.h()},h(){E(t,"class","empty")},m(e,n){$(e,t,n)},p:O,d(e){e&&f(t)}}}function ft(r){let t,o;return t=new xt({props:{url:r[10]}}),{c(){S(t.$$.fragment)},l(e){R(t.$$.fragment,e)},m(e,n){I(t,e,n),o=!0},p(e,n){const i={};n&4&&(i.url=e[10]),t.$set(i)},i(e){o||(_(t.$$.fragment,e),o=!0)},o(e){v(t.$$.fragment,e),o=!1},d(e){L(t,e)}}}function ut(r){let t,o;return t=new $e({props:{collection_id:"me_gustas",clave:"doc_id",valor:r[3],$$slots:{artículo:[dn,({artículo:e})=>({9:e}),({artículo:e})=>e?512:0]},$$scope:{ctx:r}}}),{c(){S(t.$$.fragment)},l(e){R(t.$$.fragment,e)},m(e,n){I(t,e,n),o=!0},p(e,n){const i={};n&8&&(i.valor=e[3]),n&8704&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){o||(_(t.$$.fragment,e),o=!0)},o(e){v(t.$$.fragment,e),o=!1},d(e){L(t,e)}}}function dn(r){let t=r[9].lista.length+"",o;return{c(){o=U(t)},l(e){o=Y(e,t)},m(e,n){$(e,o,n)},p(e,n){n&512&&t!==(t=e[9].lista.length+"")&&x(o,t)},d(e){e&&f(o)}}}function pn(r){return{c:O,l:O,m:O,p:O,i:O,o:O,d:O}}function hn(r){let t,o,e=ue(r[5]),n=[];for(let s=0;s<e.length;s+=1)n[s]=_t(st(r,e,s));const i=s=>v(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();t=y()},l(s){for(let l=0;l<n.length;l+=1)n[l].l(s);t=y()},m(s,l){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(s,l);$(s,t,l),o=!0},p(s,l){if(l&4){e=ue(s[5]);let a;for(a=0;a<e.length;a+=1){const c=st(s,e,a);n[a]?(n[a].p(c,l),_(n[a],1)):(n[a]=_t(c),n[a].c(),_(n[a],1),n[a].m(t.parentNode,t))}for(oe(),a=e.length;a<n.length;a+=1)i(a);re()}},i(s){if(!o){for(let l=0;l<e.length;l+=1)_(n[l]);o=!0}},o(s){n=n.filter(Boolean);for(let l=0;l<n.length;l+=1)v(n[l]);o=!1},d(s){s&&f(t),Xe(n,s)}}}function _t(r){let t,o;return t=new nn({props:{tutor:r[6]}}),{c(){S(t.$$.fragment)},l(e){R(t.$$.fragment,e)},m(e,n){I(t,e,n),o=!0},p(e,n){const i={};n&4&&(i.tutor=e[6]),t.$set(i)},i(e){o||(_(t.$$.fragment,e),o=!0)},o(e){v(t.$$.fragment,e),o=!1},d(e){L(t,e)}}}function gn(r){return{c:O,l:O,m:O,p:O,i:O,o:O,d:O}}function $n(r){let t,o,e,n,i,s=r[2].título+"",l,a,c,C,g,A,m,k,w,P,G,X,ie,se,_e,le,Se,me=r[2].tipo+"",Ee,Re,ae,de,ce,Ie,pe=r[2].porcentaje+"",ve,be,z,Te,we,Q,K,Le,ke,Ve,Z,Ce,ee,he,ge=r[2].descripción+"",Ae,W,Ne,Fe;t=new je({props:{src:"contenido/"+r[2].promo,class:"promo w-full mb-1"}});let D=r[2]&&at(r);m=new He({props:{timestamp:r[2].fecha}});let M=r[3]&&ut(r),q={ctx:r,current:null,token:null,hasCatch:!1,pending:gn,then:hn,catch:pn,value:5,blocks:[,,,]};return xe(Te=ye("usuarios","id",r[2].tutor_id),q),Z=new mn({props:{user_id:r[3],contenido_id:r[1]}}),{c(){S(t.$$.fragment),o=V(),e=d("div"),D&&D.c(),n=V(),i=d("h3"),l=U(s),a=V(),c=d("div"),C=d("p"),g=d("i"),A=d("span"),S(m.$$.fragment),k=V(),w=d("p"),P=d("i"),G=d("span"),M&&M.c(),X=U(`
			me gustas`),ie=V(),se=d("p"),_e=d("i"),le=d("span"),Se=U("Tipo: "),Ee=U(me),Re=V(),ae=d("p"),de=d("i"),ce=d("span"),Ie=U("Porcentaje: "),ve=U(pe),be=V(),z=d("div"),q.block.c(),we=V(),Q=d("div"),K=d("a"),Le=U("Ver promoción"),Ve=V(),S(Z.$$.fragment),Ce=V(),ee=d("div"),he=d("p"),Ae=U(ge),this.h()},l(h){R(t.$$.fragment,h),o=N(h),e=p(h,"DIV",{class:!0});var T=b(e);D&&D.l(T),T.forEach(f),n=N(h),i=p(h,"H3",{class:!0});var te=b(i);l=Y(te,s),te.forEach(f),a=N(h),c=p(h,"DIV",{class:!0});var B=b(c);C=p(B,"P",{});var ne=b(C);g=p(ne,"I",{class:!0}),b(g).forEach(f),A=p(ne,"SPAN",{});var ze=b(A);R(m.$$.fragment,ze),ze.forEach(f),ne.forEach(f),k=N(B),w=p(B,"P",{});var De=b(w);P=p(De,"I",{class:!0}),b(P).forEach(f),G=p(De,"SPAN",{});var Me=b(G);M&&M.l(Me),X=Y(Me,`
			me gustas`),Me.forEach(f),De.forEach(f),ie=N(B),se=p(B,"P",{});var qe=b(se);_e=p(qe,"I",{class:!0}),b(_e).forEach(f),le=p(qe,"SPAN",{});var Ue=b(le);Se=Y(Ue,"Tipo: "),Ee=Y(Ue,me),Ue.forEach(f),qe.forEach(f),Re=N(B),ae=p(B,"P",{});var Ye=b(ae);de=p(Ye,"I",{class:!0}),b(de).forEach(f),ce=p(Ye,"SPAN",{});var Ge=b(ce);Ie=Y(Ge,"Porcentaje: "),ve=Y(Ge,pe),Ge.forEach(f),Ye.forEach(f),B.forEach(f),be=N(h),z=p(h,"DIV",{class:!0});var Qe=b(z);q.block.l(Qe),Qe.forEach(f),we=N(h),Q=p(h,"DIV",{class:!0});var Pe=b(Q);K=p(Pe,"A",{href:!0,class:!0});var We=b(K);Le=Y(We,"Ver promoción"),We.forEach(f),Ve=N(Pe),R(Z.$$.fragment,Pe),Pe.forEach(f),Ce=N(h),ee=p(h,"DIV",{class:!0});var Je=b(ee);he=p(Je,"P",{});var Ke=b(he);Ae=Y(Ke,ge),Ke.forEach(f),Je.forEach(f),this.h()},h(){E(e,"class","grid grid-cols-2 gap-1 justify-center items-center"),E(i,"class","title"),E(g,"class","fas fa-calendar"),E(P,"class","fas fa-heart"),E(_e,"class","fas fa-duotone fa-icons"),E(de,"class","fa-solid fa-tag"),E(c,"class","info"),E(z,"class","tutor cursor-pointer"),E(K,"href",ke="/lista-promociones/"+r[0]),E(K,"class","inline-btn"),E(Q,"class","flex"),E(ee,"class","description")},m(h,T){I(t,h,T),$(h,o,T),$(h,e,T),D&&D.m(e,null),$(h,n,T),$(h,i,T),u(i,l),$(h,a,T),$(h,c,T),u(c,C),u(C,g),u(C,A),I(m,A,null),u(c,k),u(c,w),u(w,P),u(w,G),M&&M.m(G,null),u(G,X),u(c,ie),u(c,se),u(se,_e),u(se,le),u(le,Se),u(le,Ee),u(c,Re),u(c,ae),u(ae,de),u(ae,ce),u(ce,Ie),u(ce,ve),$(h,be,T),$(h,z,T),q.block.m(z,q.anchor=null),q.mount=()=>z,q.anchor=null,$(h,we,T),$(h,Q,T),u(Q,K),u(K,Le),u(Q,Ve),I(Z,Q,null),$(h,Ce,T),$(h,ee,T),u(ee,he),u(he,Ae),W=!0,Ne||(Fe=Be(z,"click",r[4]),Ne=!0)},p(h,[T]){r=h;const te={};T&4&&(te.src="contenido/"+r[2].promo),t.$set(te),r[2]?D?(D.p(r,T),T&4&&_(D,1)):(D=at(r),D.c(),_(D,1),D.m(e,null)):D&&(oe(),v(D,1,1,()=>{D=null}),re()),(!W||T&4)&&s!==(s=r[2].título+"")&&x(l,s);const B={};T&4&&(B.timestamp=r[2].fecha),m.$set(B),r[3]?M?(M.p(r,T),T&8&&_(M,1)):(M=ut(r),M.c(),_(M,1),M.m(G,X)):M&&(oe(),v(M,1,1,()=>{M=null}),re()),(!W||T&4)&&me!==(me=r[2].tipo+"")&&x(Ee,me),(!W||T&4)&&pe!==(pe=r[2].porcentaje+"")&&x(ve,pe),q.ctx=r,T&4&&Te!==(Te=ye("usuarios","id",r[2].tutor_id))&&xe(Te,q)||Rt(q,r,T),(!W||T&1&&ke!==(ke="/lista-promociones/"+r[0]))&&E(K,"href",ke);const ne={};T&8&&(ne.user_id=r[3]),T&2&&(ne.contenido_id=r[1]),Z.$set(ne),(!W||T&4)&&ge!==(ge=r[2].descripción+"")&&x(Ae,ge)},i(h){W||(_(t.$$.fragment,h),_(D),_(m.$$.fragment,h),_(M),_(q.block),_(Z.$$.fragment,h),W=!0)},o(h){v(t.$$.fragment,h),v(D),v(m.$$.fragment,h),v(M);for(let T=0;T<3;T+=1){const te=q.blocks[T];v(te)}v(Z.$$.fragment,h),W=!1},d(h){h&&(f(o),f(e),f(n),f(i),f(a),f(c),f(be),f(z),f(we),f(Q),f(Ce),f(ee)),L(t,h),D&&D.d(),L(m),M&&M.d(),q.block.d(),q.token=null,q=null,L(Z),Ne=!1,Fe()}}}function En(r,t,o){let{lista_promocion_id:e}=t,{contenido_id:n}=t,{contenido:i}=t,s;dt(()=>{o(3,s=sessionStorage.getItem("user_id"))});const l=()=>{ht(`/perfil/${i.tutor_id}`)};return r.$$set=a=>{"lista_promocion_id"in a&&o(0,e=a.lista_promocion_id),"contenido_id"in a&&o(1,n=a.contenido_id),"contenido"in a&&o(2,i=a.contenido)},[e,n,i,s,l]}class vn extends H{constructor(t){super(),F(this,t,En,$n,j,{lista_promocion_id:0,contenido_id:1,contenido:2})}}function mt(r){let t,o;return t=new $e({props:{collection_id:"contenido",clave:"id",valor:r[1],$$slots:{artículo:[bn,({artículo:e})=>({2:e}),({artículo:e})=>e?4:0]},$$scope:{ctx:r}}}),{c(){S(t.$$.fragment)},l(e){R(t.$$.fragment,e)},m(e,n){I(t,e,n),o=!0},p(e,n){const i={};n&2&&(i.valor=e[1]),n&15&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){o||(_(t.$$.fragment,e),o=!0)},o(e){v(t.$$.fragment,e),o=!1},d(e){L(t,e)}}}function bn(r){let t,o;return t=new vn({props:{slot:"artículo",contenido:r[2],lista_promocion_id:r[0],contenido_id:r[1]}}),{c(){S(t.$$.fragment)},l(e){R(t.$$.fragment,e)},m(e,n){I(t,e,n),o=!0},p(e,n){const i={};n&4&&(i.contenido=e[2]),n&1&&(i.lista_promocion_id=e[0]),n&2&&(i.contenido_id=e[1]),t.$set(i)},i(e){o||(_(t.$$.fragment,e),o=!0)},o(e){v(t.$$.fragment,e),o=!1},d(e){L(t,e)}}}function Tn(r){let t,o,e,n=r[1]&&mt(r);return{c(){t=d("section"),o=d("div"),n&&n.c(),this.h()},l(i){t=p(i,"SECTION",{class:!0});var s=b(t);o=p(s,"DIV",{class:!0});var l=b(o);n&&n.l(l),l.forEach(f),s.forEach(f),this.h()},h(){E(o,"class","detalles-anuncio"),E(t,"class","ver-anuncio")},m(i,s){$(i,t,s),u(t,o),n&&n.m(o,null),e=!0},p(i,[s]){i[1]?n?(n.p(i,s),s&2&&_(n,1)):(n=mt(i),n.c(),_(n,1),n.m(o,null)):n&&(oe(),v(n,1,1,()=>{n=null}),re())},i(i){e||(_(n),e=!0)},o(i){v(n),e=!1},d(i){i&&f(t),n&&n.d()}}}function wn(r,t,o){let{lista_promocion_id:e}=t,{contenido_id:n}=t;return r.$$set=i=>{"lista_promocion_id"in i&&o(0,e=i.lista_promocion_id),"contenido_id"in i&&o(1,n=i.contenido_id)},[e,n]}class kn extends H{constructor(t){super(),F(this,t,wn,Tn,j,{lista_promocion_id:0,contenido_id:1})}}function Cn(r){let t,o,e,n,i,s,l;return o=new wt({}),n=new kn({props:{lista_promocion_id:r[0],contenido_id:r[1]}}),s=new Jt({props:{contenido_id:r[1],promoción_id:r[0]}}),{c(){t=V(),S(o.$$.fragment),e=V(),S(n.$$.fragment),i=V(),S(s.$$.fragment),this.h()},l(a){bt("svelte-149s2tg",document.head).forEach(f),t=N(a),R(o.$$.fragment,a),e=N(a),R(n.$$.fragment,a),i=N(a),R(s.$$.fragment,a),this.h()},h(){document.title="Ver Anuncio"},m(a,c){$(a,t,c),I(o,a,c),$(a,e,c),I(n,a,c),$(a,i,c),I(s,a,c),l=!0},p:O,i(a){l||(_(o.$$.fragment,a),_(n.$$.fragment,a),_(s.$$.fragment,a),l=!0)},o(a){v(o.$$.fragment,a),v(n.$$.fragment,a),v(s.$$.fragment,a),l=!1},d(a){a&&(f(t),f(e),f(i)),L(o,a),L(n,a),L(s,a)}}}function An(r,t,o){let{data:e}=t;const{promoción_id:n,contenido_id:i}=e;return r.$$set=s=>{"data"in s&&o(2,e=s.data)},[n,i,e]}class Fn extends H{constructor(t){super(),F(this,t,An,Cn,j,{data:2})}}export{Fn as component,Hn as universal};
