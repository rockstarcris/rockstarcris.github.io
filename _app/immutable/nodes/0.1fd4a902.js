import{s as se,f as C,a as w,g as k,h as P,d as b,c as S,r as q,j as v,u as y,i as $,v as h,w as j,x as ne,y as fe,z as re,A as oe,l as F,m as R,n as ue,B as _e,C as de,p as me,D as pe,E as he,F as be,G as ve,H as ge,I as Ae,o as Te}from"../chunks/scheduler.cb5e95de.js";import{S as le,i as ie,g as Ie,t as L,c as Ne,a as V,b as G,d as J,m as K,e as Q,f as Ce}from"../chunks/index.6ebf0827.js";import{d as ke,g as Oe,e as Y}from"../chunks/state.9822b4a0.js";import{I as Pe,a as Z}from"../chunks/ingreso.component.d932f4c2.js";import{d as Ee,m as ce,p as x,c as He}from"../chunks/mantener-con-vida.function.ab5ebe39.js";import{a as Be,E as ee}from"../chunks/img.component.9316adc1.js";import{C as Me}from"../chunks/cabecera-de-perfil.component.67e4120a.js";import{n as we}from"../chunks/stores.f336063a.js";import{i as Se,g as $e,d as De}from"../chunks/index.esm.56b6a403.js";const ye=!0,ea=Object.freeze(Object.defineProperty({__proto__:null,prerender:ye},Symbol.toStringTag,{value:"Module"})),z={MAIN:[{TAB_CAPTION:"Inicio",ICON:"fas fa-home",PATH:""},{TAB_CAPTION:"Promociones",ICON:"fas fa-bullhorn",PATH:"promociones"},{TAB_CAPTION:"Anunciantes",ICON:"far fa-handshake",PATH:"anunciantes"},{TAB_CAPTION:"Sobre la App",ICON:"fas fa-solid fa-gear",PATH:"about"},{TAB_CAPTION:"Escríbenos",ICON:"fas fa-headset",PATH:"contacto"}],ANUNCIANTE:[{TAB_CAPTION:"Inicio",ICON:"fas fa-home",PATH:""},{TAB_CAPTION:"Tus Promociones",ICON:"fas fa-bullhorn",PATH:"tus-promociones"},{TAB_CAPTION:"Tus Anuncios",ICON:"far fa-handshake",PATH:"tus-anuncios"},{TAB_CAPTION:"Comentarios",ICON:"fas fa-comment",PATH:"comentarios"}]},Le=async()=>{const t=await(await fetch("/firebase-config.json")).json(),e=Se(t);return ke.set($e(e)),Be.set(Oe(e)),Ee(ce(),1e4),e};function ae(t,e,a){const s=t.slice();return s[9]=e[a],s}function Ve(t){let e,a,s,m=Z.VER_PERFIL+"",i,n,c,r,o=Z.SALIR+"",p,T,d,O;return e=new Me({props:{perfil:t[1],cargando:t[2]}}),{c(){G(e.$$.fragment),a=w(),s=C("a"),i=F(m),c=w(),r=C("button"),p=F(o),this.h()},l(u){J(e.$$.fragment,u),a=S(u),s=k(u,"A",{href:!0,class:!0});var f=P(s);i=R(f,m),f.forEach(b),c=S(u),r=k(u,"BUTTON",{class:!0});var l=P(r);p=R(l,o),l.forEach(b),this.h()},h(){v(s,"href","/perfil"),v(s,"class",n="btn "+(t[2]?ee.BOTÓN_DESACTIVADO:"")),v(r,"class","text-main-color text-2xl mt-4 hover:text-light-color"),r.disabled=t[2]},m(u,f){K(e,u,f),$(u,a,f),$(u,s,f),h(s,i),$(u,c,f),$(u,r,f),h(r,p),T=!0,d||(O=j(r,"click",t[4]),d=!0)},p(u,f){const l={};f&2&&(l.perfil=u[1]),f&4&&(l.cargando=u[2]),e.$set(l),(!T||f&4&&n!==(n="btn "+(u[2]?ee.BOTÓN_DESACTIVADO:"")))&&v(s,"class",n),(!T||f&4)&&(r.disabled=u[2])},i(u){T||(V(e.$$.fragment,u),T=!0)},o(u){L(e.$$.fragment,u),T=!1},d(u){u&&(b(a),b(s),b(c),b(r)),Q(e,u),d=!1,O()}}}function je(t){let e,a;return e=new Pe({}),{c(){G(e.$$.fragment)},l(s){J(e.$$.fragment,s)},m(s,m){K(e,s,m),a=!0},p:de,i(s){a||(V(e.$$.fragment,s),a=!0)},o(s){L(e.$$.fragment,s),a=!1},d(s){Q(e,s)}}}function te(t){let e,a,s,m,i=t[9].TAB_CAPTION+"",n,c;return{c(){e=C("a"),a=C("i"),m=C("span"),n=F(i),this.h()},l(r){e=k(r,"A",{href:!0});var o=P(e);a=k(o,"I",{class:!0}),P(a).forEach(b),m=k(o,"SPAN",{});var p=P(m);n=R(p,i),p.forEach(b),o.forEach(b),this.h()},h(){v(a,"class",s=t[9].ICON),v(e,"href",c="/"+t[9].PATH)},m(r,o){$(r,e,o),h(e,a),h(e,m),h(m,n)},p(r,o){o&2&&s!==(s=r[9].ICON)&&v(a,"class",s),o&2&&i!==(i=r[9].TAB_CAPTION+"")&&ue(n,i),o&2&&c!==(c="/"+r[9].PATH)&&v(e,"href",c)},d(r){r&&b(e)}}}function ze(t){let e,a,s,m,i,n,c,r,o,p,T='<i class="fas fa-home"></i><span>Inicio</span>',d,O,u='<i class="fas fa-bullhorn"></i><span>Promociones</span>',f,l,g,B;const W=[je,Ve],M=[];function X(_,I){return _[3]?0:1}n=X(t),c=M[n]=W[n](t);let D=Y(t[1]&&t[1].membresia==="Anunciante"?z.ANUNCIANTE:z.MAIN),A=[];for(let _=0;_<D.length;_+=1)A[_]=te(ae(t,D,_));return{c(){e=C("div"),a=C("div"),s=C("i"),m=w(),i=C("div"),c.c(),r=w(),o=C("nav"),p=C("a"),p.innerHTML=T,d=w(),O=C("a"),O.innerHTML=u,f=w();for(let _=0;_<A.length;_+=1)A[_].c();this.h()},l(_){e=k(_,"DIV",{class:!0});var I=P(e);a=k(I,"DIV",{class:!0});var E=P(a);s=k(E,"I",{class:!0}),P(s).forEach(b),E.forEach(b),m=S(I),i=k(I,"DIV",{class:!0});var N=P(i);c.l(N),N.forEach(b),r=S(I),o=k(I,"NAV",{class:!0});var H=P(o);p=k(H,"A",{href:!0,"data-svelte-h":!0}),q(p)!=="svelte-1gs3lmz"&&(p.innerHTML=T),d=S(H),O=k(H,"A",{href:!0,"data-svelte-h":!0}),q(O)!=="svelte-rvs39l"&&(O.innerHTML=u),f=S(H);for(let U=0;U<A.length;U+=1)A[U].l(H);H.forEach(b),I.forEach(b),this.h()},h(){v(s,"class","fas fa-times"),v(a,"class","close-side-bar"),v(i,"class","profile"),y(i,"!py-8",t[3]),v(p,"href","/"),v(O,"href","/promociones"),v(o,"class","navbar"),v(e,"class","side-bar"),y(e,"activado",t[0])},m(_,I){$(_,e,I),h(e,a),h(a,s),h(e,m),h(e,i),M[n].m(i,null),h(e,r),h(e,o),h(o,p),h(o,d),h(o,O),h(o,f);for(let E=0;E<A.length;E+=1)A[E]&&A[E].m(o,null);l=!0,g||(B=[j(s,"click",t[6]),j(e,"click",ne(t[5]))],g=!0)},p(_,[I]){let E=n;if(n=X(_),n===E?M[n].p(_,I):(Ie(),L(M[E],1,1,()=>{M[E]=null}),Ne(),c=M[n],c?c.p(_,I):(c=M[n]=W[n](_),c.c()),V(c,1),c.m(i,null)),(!l||I&8)&&y(i,"!py-8",_[3]),I&2){D=Y(_[1]&&_[1].membresia==="Anunciante"?z.ANUNCIANTE:z.MAIN);let N;for(N=0;N<D.length;N+=1){const H=ae(_,D,N);A[N]?A[N].p(H,I):(A[N]=te(H),A[N].c(),A[N].m(o,null))}for(;N<A.length;N+=1)A[N].d(1);A.length=D.length}(!l||I&1)&&y(e,"activado",_[0])},i(_){l||(V(c),l=!0)},o(_){L(c),l=!1},d(_){_&&b(e),M[n].d(),fe(A,_),g=!1,re(B)}}}function Ue(t,e,a){let{activado:s}=e,m,i,n;const c=x.subscribe(d=>{a(1,m=d)}),r=He.subscribe(d=>{a(2,i=d.perfil)}),o=()=>{sessionStorage.removeItem("user_id"),x.set(void 0)};oe(()=>{c(),r()});function p(d){_e.call(this,t,d)}const T=()=>{a(0,s=!1)};return t.$$set=d=>{"activado"in d&&a(0,s=d.activado)},t.$$.update=()=>{t.$$.dirty&6&&a(3,n=!i&&!(m!=null&&m.correo))},[s,m,i,n,o,p,T]}class qe extends le{constructor(e){super(),ie(this,e,Ue,ze,se,{activado:0})}}function Fe(t){let e,a,s,m,i,n,c='<i class="fas fa-bars"></i>',r,o,p,T;function d(l){t[5](l)}let O={};t[1]!==void 0&&(O.activado=t[1]),a=new qe({props:O}),me.push(()=>Ce(a,"activado",d));const u=t[4].default,f=pe(u,t,t[3],null);return{c(){e=C("div"),G(a.$$.fragment),m=w(),i=C("div"),n=C("div"),n.innerHTML=c,r=w(),f&&f.c(),this.h()},l(l){e=k(l,"DIV",{class:!0});var g=P(e);J(a.$$.fragment,g),m=S(g),i=k(g,"DIV",{class:!0});var B=P(i);n=k(B,"DIV",{class:!0,"data-svelte-h":!0}),q(n)!=="svelte-mrxqlz"&&(n.innerHTML=c),B.forEach(b),r=S(g),f&&f.l(g),g.forEach(b),this.h()},h(){v(n,"class","flex text-[2rem] text-[var(--black)] rounded-lg w-[4.5rem] h-[4.5rem] cursor-pointer lead-[4.4rem] bg-[var(--light-bg)] justify-center items-center"),v(i,"class","lg:hidden flex justify-end p-8 pb-0"),v(e,"class","layout"),y(e,"dark",t[0])},m(l,g){$(l,e,g),K(a,e,null),h(e,m),h(e,i),h(i,n),h(e,r),f&&f.m(e,null),o=!0,p||(T=[j(n,"click",ne(t[6])),j(e,"click",t[7])],p=!0)},p(l,[g]){const B={};!s&&g&2&&(s=!0,B.activado=l[1],he(()=>s=!1)),a.$set(B),f&&f.p&&(!o||g&8)&&be(f,u,l,l[3],o?ge(u,l[3],g,null):ve(l[3]),null),(!o||g&1)&&y(e,"dark",l[0])},i(l){o||(V(a.$$.fragment,l),V(f,l),o=!0)},o(l){L(a.$$.fragment,l),L(f,l),o=!1},d(l){l&&b(e),Q(a),f&&f.d(l),p=!1,re(T)}}}function Re(t,e,a){let s;Ae(t,we,d=>a(2,s=d));let{$$slots:m={},$$scope:i}=e,n,c,r;Te(async()=>{a(0,n=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",d=>{a(0,n=d.matches)}),c=await Le()}),oe(()=>{c&&De(c)});function o(d){r=d,a(1,r)}const p=()=>{a(1,r=!r)},T=()=>{a(1,r=!1)};return t.$$set=d=>{"$$scope"in d&&a(3,i=d.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&s&&ce()},[n,r,s,i,m,o,p,T]}class aa extends le{constructor(e){super(),ie(this,e,Re,Fe,se,{})}}export{aa as component,ea as universal};
