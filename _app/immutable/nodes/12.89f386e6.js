import{s as G,a as T,f as v,l as R,c as N,g as b,h as C,m as z,d,i as j,u as _,n as ae,A as se,j as w,v as fe,y as S,e as F,w as ce,J as me,o as _e}from"../chunks/scheduler.816f6b02.js";import{S as J,i as U,b as O,d as y,m as D,a as h,t as g,e as M,g as x,c as K}from"../chunks/index.ac55fbe5.js";import{c as de,e as H}from"../chunks/state.9cc63495.js";import{Q as ie}from"../chunks/query-db.component.956bbb1f.js";import{I as ue,h as Z,u as he}from"../chunks/img.component.dbe8d425.js";import{q as ee}from"../chunks/query-db.function.e61c3954.js";import{u as $e}from"../chunks/update-db.function.fecdad5a.js";import{T as pe}from"../chunks/tutor-cargando.component.9d0ba63a.js";import{F as ge}from"../chunks/fecha.component.20104caa.js";const ve=!0,Re=Object.freeze(Object.defineProperty({__proto__:null,prerender:ve},Symbol.toStringTag,{value:"Module"}));function be(a){let t,l,e,n,c=a[0].nombre+"",o,s,r,u,$;return t=new ue({props:{src:"perfil/"+a[0].imagen,class:"w-[70px] h-[70px] rounded-full"}}),u=new ge({props:{timestamp:a[0].fecha}}),{c(){O(t.$$.fragment),l=T(),e=v("div"),n=v("h3"),o=R(c),s=T(),r=v("span"),O(u.$$.fragment)},l(i){y(t.$$.fragment,i),l=N(i),e=b(i,"DIV",{});var f=C(e);n=b(f,"H3",{});var q=C(n);o=z(q,c),q.forEach(d),s=N(f),r=b(f,"SPAN",{});var E=C(r);y(u.$$.fragment,E),E.forEach(d),f.forEach(d)},m(i,f){D(t,i,f),j(i,l,f),j(i,e,f),_(e,n),_(n,o),_(e,s),_(e,r),D(u,r,null),$=!0},p(i,[f]){const q={};f&1&&(q.src="perfil/"+i[0].imagen),t.$set(q),(!$||f&1)&&c!==(c=i[0].nombre+"")&&ae(o,c);const E={};f&1&&(E.timestamp=i[0].fecha),u.$set(E)},i(i){$||(h(t.$$.fragment,i),h(u.$$.fragment,i),$=!0)},o(i){g(t.$$.fragment,i),g(u.$$.fragment,i),$=!1},d(i){i&&(d(l),d(e)),M(t,i),M(u)}}}function ke(a,t,l){let{tutor:e}=t;return a.$$set=n=>{"tutor"in n&&l(0,e=n.tutor)},[e]}class we extends J{constructor(t){super(),U(this,t,ke,be,G,{tutor:0})}}function te(a,t,l){const e=a.slice();return e[4]=t[l],e}function Ee(a){return{c:S,l:S,m:S,p:S,i:S,o:S,d:S}}function Ce(a){let t,l,e=H(a[3]),n=[];for(let o=0;o<e.length;o+=1)n[o]=ne(te(a,e,o));const c=o=>g(n[o],1,1,()=>{n[o]=null});return{c(){for(let o=0;o<n.length;o+=1)n[o].c();t=F()},l(o){for(let s=0;s<n.length;s+=1)n[s].l(o);t=F()},m(o,s){for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(o,s);j(o,t,s),l=!0},p(o,s){if(s&1){e=H(o[3]);let r;for(r=0;r<e.length;r+=1){const u=te(o,e,r);n[r]?(n[r].p(u,s),h(n[r],1)):(n[r]=ne(u),n[r].c(),h(n[r],1),n[r].m(t.parentNode,t))}for(x(),r=e.length;r<n.length;r+=1)c(r);K()}},i(o){if(!l){for(let s=0;s<e.length;s+=1)h(n[s]);l=!0}},o(o){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)g(n[s]);l=!1},d(o){o&&d(t),ce(n,o)}}}function ne(a){let t,l;return t=new we({props:{tutor:a[4]}}),{c(){O(t.$$.fragment)},l(e){y(t.$$.fragment,e)},m(e,n){D(t,e,n),l=!0},p(e,n){const c={};n&1&&(c.tutor=e[4]),t.$set(c)},i(e){l||(h(t.$$.fragment,e),l=!0)},o(e){g(t.$$.fragment,e),l=!1},d(e){M(t,e)}}}function qe(a){let t,l;return t=new pe({}),{c(){O(t.$$.fragment)},l(e){y(t.$$.fragment,e)},m(e,n){D(t,e,n),l=!0},p:S,i(e){l||(h(t.$$.fragment,e),l=!0)},o(e){g(t.$$.fragment,e),l=!1},d(e){M(t,e)}}}function Ie(a){let t,l,e,n,c,o,s,r=a[0].título+"",u,$,i,f,q,E,P,I,L="eliminar",A,Q,W,p={ctx:a,current:null,token:null,hasCatch:!1,pending:qe,then:Ce,catch:Ee,value:3,blocks:[,,,]};return Z(e=ee("usuarios","id",a[0].tutor_id),p),c=new ue({props:{src:"contenido/"+a[0].miniatura}}),{c(){t=v("div"),l=v("div"),p.block.c(),n=T(),O(c.$$.fragment),o=T(),s=v("h3"),u=R(r),$=T(),i=v("form"),f=v("a"),q=R("ver contenido"),P=T(),I=v("button"),I.textContent=L,this.h()},l(k){t=b(k,"DIV",{class:!0});var m=C(t);l=b(m,"DIV",{class:!0});var V=C(l);p.block.l(V),V.forEach(d),n=N(m),y(c.$$.fragment,m),o=N(m),s=b(m,"H3",{class:!0});var X=C(s);u=z(X,r),X.forEach(d),$=N(m),i=b(m,"FORM",{class:!0});var B=C(i);f=b(B,"A",{href:!0,class:!0});var Y=C(f);q=z(Y,"ver contenido"),Y.forEach(d),P=N(B),I=b(B,"BUTTON",{class:!0,"data-svelte-h":!0}),se(I)!=="svelte-ncxcgs"&&(I.textContent=L),B.forEach(d),m.forEach(d),this.h()},h(){w(l,"class","tutor"),w(s,"class","title"),w(f,"href",E="/ver-anuncio/"+a[0].promoción+"/"+a[0].id),w(f,"class","inline-btn w-[170px] !px-0"),w(I,"class","inline-delete-btn"),w(i,"class","flex-btn"),w(t,"class","box")},m(k,m){j(k,t,m),_(t,l),p.block.m(l,p.anchor=null),p.mount=()=>l,p.anchor=null,_(t,n),D(c,t,null),_(t,o),_(t,s),_(s,u),_(t,$),_(t,i),_(i,f),_(f,q),_(i,P),_(i,I),A=!0,Q||(W=fe(I,"click",a[2]),Q=!0)},p(k,[m]){a=k,p.ctx=a,m&1&&e!==(e=ee("usuarios","id",a[0].tutor_id))&&Z(e,p)||he(p,a,m);const V={};m&1&&(V.src="contenido/"+a[0].miniatura),c.$set(V),(!A||m&1)&&r!==(r=a[0].título+"")&&ae(u,r),(!A||m&1&&E!==(E="/ver-anuncio/"+a[0].promoción+"/"+a[0].id))&&w(f,"href",E)},i(k){A||(h(p.block),h(c.$$.fragment,k),A=!0)},o(k){for(let m=0;m<3;m+=1){const V=p.blocks[m];g(V)}g(c.$$.fragment,k),A=!1},d(k){k&&d(t),p.block.d(),p.token=null,p=null,M(c),Q=!1,W()}}}function Se(a,t,l){let{contenido:e}=t;const n=async()=>{const o=sessionStorage.getItem("user_id");o&&await $e("me_gustas",o,{lista:de(e.id)})},c=()=>{confirm("Quitar me gustan de este anuncio?"),n()};return a.$$set=o=>{"contenido"in o&&l(0,e=o.contenido)},[e,n,c]}class Te extends J{constructor(t){super(),U(this,t,Se,Ie,G,{contenido:0})}}function re(a,t,l){const e=a.slice();return e[2]=t[l],e}function oe(a){let t,l;return t=new ie({props:{collection_id:"me_gustas",clave:"doc_id",valor:a[0],$$slots:{artículo:[Oe,({artículo:e})=>({1:e}),({artículo:e})=>e?2:0]},$$scope:{ctx:a}}}),{c(){O(t.$$.fragment)},l(e){y(t.$$.fragment,e)},m(e,n){D(t,e,n),l=!0},p(e,n){const c={};n&1&&(c.valor=e[0]),n&34&&(c.$$scope={dirty:n,ctx:e}),t.$set(c)},i(e){l||(h(t.$$.fragment,e),l=!0)},o(e){g(t.$$.fragment,e),l=!1},d(e){M(t,e)}}}function Ne(a){let t,l;return t=new Te({props:{slot:"artículo",contenido:a[1]}}),{c(){O(t.$$.fragment)},l(e){y(t.$$.fragment,e)},m(e,n){D(t,e,n),l=!0},p(e,n){const c={};n&2&&(c.contenido=e[1]),t.$set(c)},i(e){l||(h(t.$$.fragment,e),l=!0)},o(e){g(t.$$.fragment,e),l=!1},d(e){M(t,e)}}}function le(a){let t,l;return t=new ie({props:{collection_id:"contenido",clave:"id",valor:a[2],$$slots:{artículo:[Ne,({artículo:e})=>({1:e}),({artículo:e})=>e?2:0]},$$scope:{ctx:a}}}),{c(){O(t.$$.fragment)},l(e){y(t.$$.fragment,e)},m(e,n){D(t,e,n),l=!0},p(e,n){const c={};n&2&&(c.valor=e[2]),n&34&&(c.$$scope={dirty:n,ctx:e}),t.$set(c)},i(e){l||(h(t.$$.fragment,e),l=!0)},o(e){g(t.$$.fragment,e),l=!1},d(e){M(t,e)}}}function Oe(a){let t,l,e=H(a[1].lista),n=[];for(let o=0;o<e.length;o+=1)n[o]=le(re(a,e,o));const c=o=>g(n[o],1,1,()=>{n[o]=null});return{c(){for(let o=0;o<n.length;o+=1)n[o].c();t=F()},l(o){for(let s=0;s<n.length;s+=1)n[s].l(o);t=F()},m(o,s){for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(o,s);j(o,t,s),l=!0},p(o,s){if(s&2){e=H(o[1].lista);let r;for(r=0;r<e.length;r+=1){const u=re(o,e,r);n[r]?(n[r].p(u,s),h(n[r],1)):(n[r]=le(u),n[r].c(),h(n[r],1),n[r].m(t.parentNode,t))}for(x(),r=e.length;r<n.length;r+=1)c(r);K()}},i(o){if(!l){for(let s=0;s<e.length;s+=1)h(n[s]);l=!0}},o(o){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)g(n[s]);l=!1},d(o){o&&d(t),ce(n,o)}}}function ye(a){let t,l,e,n="contenido que me gustan",c,o,s,r=a[0]&&oe(a);return{c(){t=T(),l=v("section"),e=v("h1"),e.textContent=n,c=T(),o=v("div"),r&&r.c(),this.h()},l(u){me("svelte-pl1fgv",document.head).forEach(d),t=N(u),l=b(u,"SECTION",{class:!0});var i=C(l);e=b(i,"H1",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-f4vfi7"&&(e.textContent=n),c=N(i),o=b(i,"DIV",{class:!0});var f=C(o);r&&r.l(f),f.forEach(d),i.forEach(d),this.h()},h(){document.title="Me Gustas",w(e,"class","heading"),w(o,"class","box-container"),w(l,"class","liked-videos")},m(u,$){j(u,t,$),j(u,l,$),_(l,e),_(l,c),_(l,o),r&&r.m(o,null),s=!0},p(u,[$]){u[0]?r?(r.p(u,$),$&1&&h(r,1)):(r=oe(u),r.c(),h(r,1),r.m(o,null)):r&&(x(),g(r,1,1,()=>{r=null}),K())},i(u){s||(h(r),s=!0)},o(u){g(r),s=!1},d(u){u&&(d(t),d(l)),r&&r.d()}}}function De(a,t,l){let e;return _e(()=>{l(0,e=sessionStorage.getItem("user_id"))}),[e]}class ze extends J{constructor(t){super(),U(this,t,De,ye,G,{})}}export{ze as component,Re as universal};
