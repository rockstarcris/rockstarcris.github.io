import{s as X,f as I,a as $,g as N,h as C,d as b,c as w,j as v,r as B,i as E,u as T,v as L,w as te,x as Y,l as V,m as j,n as ae,y as se,p as oe,z as re,A as ne,B as le,C as ie,D as ce,E as fe,F as ue,G as _e,o as de}from"../chunks/scheduler.a665a98d.js";import{S as Z,i as x,g as me,t as S,c as pe,a as H,b as z,d as U,m as q,e as F,f as he}from"../chunks/index.d0ee8e99.js";import{e as R}from"../chunks/state.1193ba7e.js";import{I as be,a as G}from"../chunks/ingreso.component.8db515e7.js";import{p as J,c as Ae}from"../chunks/cargando.store.a942b023.js";import{E as K}from"../chunks/estilos.constants.c7646e5a.js";import{C as ve}from"../chunks/cabecera-de-perfil.component.9d51dadf.js";import{i as ge,d as Te,g as Ie,a as Ne,b as Ce,c as Oe}from"../chunks/index.esm.43a66c50.js";import{n as Pe}from"../chunks/stores.65a381e5.js";import{d as ke,m as ee}from"../chunks/mantener-con-vida.function.d1351c2b.js";import{a as Ee}from"../chunks/img.component.3d7c4993.js";const Be=!0,We=Object.freeze(Object.defineProperty({__proto__:null,prerender:Be},Symbol.toStringTag,{value:"Module"})),D={MAIN:[{TAB_CAPTION:"Inicio",ICON:"fas fa-home",PATH:""},{TAB_CAPTION:"Promociones",ICON:"fas fa-bullhorn",PATH:"promociones"},{TAB_CAPTION:"Anunciantes",ICON:"far fa-handshake",PATH:"anunciantes"},{TAB_CAPTION:"Sobre la App",ICON:"fas fa-solid fa-gear",PATH:"about"},{TAB_CAPTION:"Escríbenos",ICON:"fas fa-headset",PATH:"contacto"}],ANUNCIANTE:[{TAB_CAPTION:"Inicio",ICON:"fas fa-home",PATH:""},{TAB_CAPTION:"Tus Promociones",ICON:"fas fa-bullhorn",PATH:"tus-promociones"},{TAB_CAPTION:"Tus Anuncios",ICON:"far fa-handshake",PATH:"tus-anuncios"},{TAB_CAPTION:"Comentarios",ICON:"fas fa-comment",PATH:"tus-comentarios"}]},$e=async()=>{const s=await(await fetch("/firebase-config.json")).json(),e=ge(s);return Te.set(Ie(e)),Ee.set(Ne(e)),ke(ee(),1e4),e};function Q(s,e,a){const t=s.slice();return t[8]=e[a],t}function we(s){let e,a,t,p=G.VER_PERFIL+"",c,o,u,n,f=G.SALIR+"",h,m,P,k;return e=new ve({props:{perfil:s[1],cargando:s[2]}}),{c(){z(e.$$.fragment),a=$(),t=I("a"),c=V(p),u=$(),n=I("button"),h=V(f),this.h()},l(r){U(e.$$.fragment,r),a=w(r),t=N(r,"A",{href:!0,class:!0});var d=C(t);c=j(d,p),d.forEach(b),u=w(r),n=N(r,"BUTTON",{class:!0});var l=C(n);h=j(l,f),l.forEach(b),this.h()},h(){v(t,"href","/perfil/yo"),v(t,"class",o="btn "+(s[2]?K.BOTÓN_DESACTIVADO:"")),v(n,"class","text-main-color text-2xl mt-4 hover:text-light-color"),n.disabled=s[2]},m(r,d){q(e,r,d),E(r,a,d),E(r,t,d),T(t,c),E(r,u,d),E(r,n,d),T(n,h),m=!0,P||(k=L(n,"click",s[4]),P=!0)},p(r,d){const l={};d&2&&(l.perfil=r[1]),d&4&&(l.cargando=r[2]),e.$set(l),(!m||d&4&&o!==(o="btn "+(r[2]?K.BOTÓN_DESACTIVADO:"")))&&v(t,"class",o),(!m||d&4)&&(n.disabled=r[2])},i(r){m||(H(e.$$.fragment,r),m=!0)},o(r){S(e.$$.fragment,r),m=!1},d(r){r&&(b(a),b(t),b(u),b(n)),F(e,r),P=!1,k()}}}function Se(s){let e,a;return e=new be({}),{c(){z(e.$$.fragment)},l(t){U(e.$$.fragment,t)},m(t,p){q(e,t,p),a=!0},p:se,i(t){a||(H(e.$$.fragment,t),a=!0)},o(t){S(e.$$.fragment,t),a=!1},d(t){F(e,t)}}}function W(s){let e,a,t,p,c=s[8].TAB_CAPTION+"",o,u;return{c(){e=I("a"),a=I("i"),p=I("span"),o=V(c),this.h()},l(n){e=N(n,"A",{href:!0});var f=C(e);a=N(f,"I",{class:!0}),C(a).forEach(b),p=N(f,"SPAN",{});var h=C(p);o=j(h,c),h.forEach(b),f.forEach(b),this.h()},h(){v(a,"class",t=s[8].ICON),v(e,"href",u="/"+s[8].PATH)},m(n,f){E(n,e,f),T(e,a),T(e,p),T(p,o)},p(n,f){f&2&&t!==(t=n[8].ICON)&&v(a,"class",t),f&2&&c!==(c=n[8].TAB_CAPTION+"")&&ae(o,c),f&2&&u!==(u="/"+n[8].PATH)&&v(e,"href",u)},d(n){n&&b(e)}}}function He(s){let e,a,t,p,c,o,u,n,f,h,m,P;const k=[Se,we],r=[];function d(i,A){return i[3]?0:1}o=d(s),u=r[o]=k[o](s);let l=R(s[1]&&s[1].membresia==="Anunciante"?D.ANUNCIANTE:D.MAIN),_=[];for(let i=0;i<l.length;i+=1)_[i]=W(Q(s,l,i));return{c(){e=I("div"),a=I("div"),t=I("i"),p=$(),c=I("div"),u.c(),n=$(),f=I("nav");for(let i=0;i<_.length;i+=1)_[i].c();this.h()},l(i){e=N(i,"DIV",{class:!0});var A=C(e);a=N(A,"DIV",{class:!0});var O=C(a);t=N(O,"I",{class:!0}),C(t).forEach(b),O.forEach(b),p=w(A),c=N(A,"DIV",{class:!0});var g=C(c);u.l(g),g.forEach(b),n=w(A),f=N(A,"NAV",{class:!0});var y=C(f);for(let M=0;M<_.length;M+=1)_[M].l(y);y.forEach(b),A.forEach(b),this.h()},h(){v(t,"class","fas fa-times"),v(a,"class","close-side-bar"),v(c,"class","profile"),B(c,"!py-8",s[3]),v(f,"class","navbar"),v(e,"class","side-bar"),B(e,"activado",s[0])},m(i,A){E(i,e,A),T(e,a),T(a,t),T(e,p),T(e,c),r[o].m(c,null),T(e,n),T(e,f);for(let O=0;O<_.length;O+=1)_[O]&&_[O].m(f,null);h=!0,m||(P=L(t,"click",s[5]),m=!0)},p(i,[A]){let O=o;if(o=d(i),o===O?r[o].p(i,A):(me(),S(r[O],1,1,()=>{r[O]=null}),pe(),u=r[o],u?u.p(i,A):(u=r[o]=k[o](i),u.c()),H(u,1),u.m(c,null)),(!h||A&8)&&B(c,"!py-8",i[3]),A&2){l=R(i[1]&&i[1].membresia==="Anunciante"?D.ANUNCIANTE:D.MAIN);let g;for(g=0;g<l.length;g+=1){const y=Q(i,l,g);_[g]?_[g].p(y,A):(_[g]=W(y),_[g].c(),_[g].m(f,null))}for(;g<_.length;g+=1)_[g].d(1);_.length=l.length}(!h||A&1)&&B(e,"activado",i[0])},i(i){h||(H(u),h=!0)},o(i){S(u),h=!1},d(i){i&&b(e),r[o].d(),te(_,i),m=!1,P()}}}function ye(s,e,a){let{activado:t}=e,p,c,o;const u=J.subscribe(m=>{a(1,p=m)}),n=Ae.subscribe(m=>{a(2,c=m.perfil)}),f=()=>{sessionStorage.removeItem("user_id"),J.set(void 0),Ce("/")};Y(()=>{u(),n()});const h=()=>{a(0,t=!1)};return s.$$set=m=>{"activado"in m&&a(0,t=m.activado)},s.$$.update=()=>{s.$$.dirty&6&&a(3,o=!c&&!(p!=null&&p.correo))},[t,p,c,o,f,h]}class De extends Z{constructor(e){super(),x(this,e,ye,He,X,{activado:0})}}function Me(s){let e,a,t,p,c,o,u='<i class="fas fa-bars"></i>',n,f,h,m;function P(l){s[5](l)}let k={};s[1]!==void 0&&(k.activado=s[1]),a=new De({props:k}),oe.push(()=>he(a,"activado",P));const r=s[4].default,d=re(r,s,s[3],null);return{c(){e=I("div"),z(a.$$.fragment),p=$(),c=I("div"),o=I("div"),o.innerHTML=u,n=$(),d&&d.c(),this.h()},l(l){e=N(l,"DIV",{class:!0});var _=C(e);U(a.$$.fragment,_),p=w(_),c=N(_,"DIV",{class:!0});var i=C(c);o=N(i,"DIV",{class:!0,"data-svelte-h":!0}),ne(o)!=="svelte-mz6qfj"&&(o.innerHTML=u),i.forEach(b),n=w(_),d&&d.l(_),_.forEach(b),this.h()},h(){v(o,"class","flex text-[2rem] text-[var(--black)] rounded-lg w-[4.5rem] h-[4.5rem] cursor-pointer lead-[4.4rem] bg-[var(--light-bg)] justify-center items-center"),v(c,"class","lg:hidden flex justify-end p-8 pb-0"),v(e,"class","layout"),B(e,"dark",s[0])},m(l,_){E(l,e,_),q(a,e,null),T(e,p),T(e,c),T(c,o),T(e,n),d&&d.m(e,null),f=!0,h||(m=L(o,"click",le(s[6])),h=!0)},p(l,[_]){const i={};!t&&_&2&&(t=!0,i.activado=l[1],ie(()=>t=!1)),a.$set(i),d&&d.p&&(!f||_&8)&&ce(d,r,l,l[3],f?ue(r,l[3],_,null):fe(l[3]),null),(!f||_&1)&&B(e,"dark",l[0])},i(l){f||(H(a.$$.fragment,l),H(d,l),f=!0)},o(l){S(a.$$.fragment,l),S(d,l),f=!1},d(l){l&&b(e),F(a),d&&d.d(l),h=!1,m()}}}function Ve(s,e,a){let t;_e(s,Pe,m=>a(2,t=m));let{$$slots:p={},$$scope:c}=e,o,u,n;de(async()=>{a(0,o=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",m=>{a(0,o=m.matches)}),u=await $e()}),Y(()=>{u&&Oe(u)});function f(m){n=m,a(1,n)}const h=()=>{a(1,n=!0)};return s.$$set=m=>{"$$scope"in m&&a(3,c=m.$$scope)},s.$$.update=()=>{s.$$.dirty&4&&t!=null&&t.to&&ee(t.to.route.id)},[o,n,t,c,p,f,h]}class Xe extends Z{constructor(e){super(),x(this,e,Ve,Me,X,{})}}export{Xe as component,We as universal};
