import{s as X,f as I,a as B,g as N,h as C,d as b,c as w,j as v,r as $,i as E,u as T,v as L,w as ae,x as Y,l as V,m as j,n as te,y as se,p as ne,z as re,A as oe,B as le,C as ie,D as ce,E as fe,F as ue,G as _e,o as de}from"../chunks/scheduler.816f6b02.js";import{S as Z,i as x,g as me,t as S,c as pe,a as H,b as z,d as U,m as q,e as F,f as he}from"../chunks/index.ac55fbe5.js";import{i as be,d as ge,g as ve,a as Ae,e as R,b as Te}from"../chunks/state.9cc63495.js";import{I as Ie,a as G}from"../chunks/ingreso.component.7785ff95.js";import{p as J,c as Ne}from"../chunks/cargando.store.d89b5574.js";import{E as K}from"../chunks/estilos.constants.ef6e286e.js";import{C as Ce}from"../chunks/cabecera-de-perfil.component.9fa7aad3.js";import{n as Oe}from"../chunks/stores.cd78f5e7.js";import{d as Pe,m as ee}from"../chunks/mantener-con-vida.function.4ff1c9d5.js";import{a as ke}from"../chunks/img.component.dbe8d425.js";const Ee=!0,Ke=Object.freeze(Object.defineProperty({__proto__:null,prerender:Ee},Symbol.toStringTag,{value:"Module"})),y={MAIN:[{TAB_CAPTION:"Inicio",ICON:"fas fa-home",PATH:""},{TAB_CAPTION:"Promociones",ICON:"fas fa-bullhorn",PATH:"promociones"},{TAB_CAPTION:"Anunciantes",ICON:"far fa-handshake",PATH:"anunciantes"},{TAB_CAPTION:"Sobre la App",ICON:"fas fa-solid fa-gear",PATH:"about"},{TAB_CAPTION:"Escríbenos",ICON:"fas fa-headset",PATH:"contacto"}],ANUNCIANTE:[{TAB_CAPTION:"Inicio",ICON:"fas fa-home",PATH:""},{TAB_CAPTION:"Tus Promociones",ICON:"fas fa-bullhorn",PATH:"tus-promociones"},{TAB_CAPTION:"Tus Anuncios",ICON:"far fa-handshake",PATH:"tus-anuncios"},{TAB_CAPTION:"Comentarios",ICON:"fas fa-comment",PATH:"tus-comentarios"}]},$e=async()=>{const s=await(await fetch("/firebase-config.json")).json(),e=be(s);return ge.set(ve(e)),ke.set(Ae(e)),Pe(ee(),1e4),e};function Q(s,e,a){const t=s.slice();return t[8]=e[a],t}function Be(s){let e,a,t,p=G.VER_PERFIL+"",c,n,u,o,f=G.SALIR+"",h,m,P,k;return e=new Ce({props:{perfil:s[1],cargando:s[2]}}),{c(){z(e.$$.fragment),a=B(),t=I("a"),c=V(p),u=B(),o=I("button"),h=V(f),this.h()},l(r){U(e.$$.fragment,r),a=w(r),t=N(r,"A",{href:!0,class:!0});var d=C(t);c=j(d,p),d.forEach(b),u=w(r),o=N(r,"BUTTON",{class:!0});var l=C(o);h=j(l,f),l.forEach(b),this.h()},h(){v(t,"href","/perfil"),v(t,"class",n="btn "+(s[2]?K.BOTÓN_DESACTIVADO:"")),v(o,"class","text-main-color text-2xl mt-4 hover:text-light-color"),o.disabled=s[2]},m(r,d){q(e,r,d),E(r,a,d),E(r,t,d),T(t,c),E(r,u,d),E(r,o,d),T(o,h),m=!0,P||(k=L(o,"click",s[4]),P=!0)},p(r,d){const l={};d&2&&(l.perfil=r[1]),d&4&&(l.cargando=r[2]),e.$set(l),(!m||d&4&&n!==(n="btn "+(r[2]?K.BOTÓN_DESACTIVADO:"")))&&v(t,"class",n),(!m||d&4)&&(o.disabled=r[2])},i(r){m||(H(e.$$.fragment,r),m=!0)},o(r){S(e.$$.fragment,r),m=!1},d(r){r&&(b(a),b(t),b(u),b(o)),F(e,r),P=!1,k()}}}function we(s){let e,a;return e=new Ie({}),{c(){z(e.$$.fragment)},l(t){U(e.$$.fragment,t)},m(t,p){q(e,t,p),a=!0},p:se,i(t){a||(H(e.$$.fragment,t),a=!0)},o(t){S(e.$$.fragment,t),a=!1},d(t){F(e,t)}}}function W(s){let e,a,t,p,c=s[8].TAB_CAPTION+"",n,u;return{c(){e=I("a"),a=I("i"),p=I("span"),n=V(c),this.h()},l(o){e=N(o,"A",{href:!0});var f=C(e);a=N(f,"I",{class:!0}),C(a).forEach(b),p=N(f,"SPAN",{});var h=C(p);n=j(h,c),h.forEach(b),f.forEach(b),this.h()},h(){v(a,"class",t=s[8].ICON),v(e,"href",u="/"+s[8].PATH)},m(o,f){E(o,e,f),T(e,a),T(e,p),T(p,n)},p(o,f){f&2&&t!==(t=o[8].ICON)&&v(a,"class",t),f&2&&c!==(c=o[8].TAB_CAPTION+"")&&te(n,c),f&2&&u!==(u="/"+o[8].PATH)&&v(e,"href",u)},d(o){o&&b(e)}}}function Se(s){let e,a,t,p,c,n,u,o,f,h,m,P;const k=[we,Be],r=[];function d(i,g){return i[3]?0:1}n=d(s),u=r[n]=k[n](s);let l=R(s[1]&&s[1].membresia==="Anunciante"?y.ANUNCIANTE:y.MAIN),_=[];for(let i=0;i<l.length;i+=1)_[i]=W(Q(s,l,i));return{c(){e=I("div"),a=I("div"),t=I("i"),p=B(),c=I("div"),u.c(),o=B(),f=I("nav");for(let i=0;i<_.length;i+=1)_[i].c();this.h()},l(i){e=N(i,"DIV",{class:!0});var g=C(e);a=N(g,"DIV",{class:!0});var O=C(a);t=N(O,"I",{class:!0}),C(t).forEach(b),O.forEach(b),p=w(g),c=N(g,"DIV",{class:!0});var A=C(c);u.l(A),A.forEach(b),o=w(g),f=N(g,"NAV",{class:!0});var D=C(f);for(let M=0;M<_.length;M+=1)_[M].l(D);D.forEach(b),g.forEach(b),this.h()},h(){v(t,"class","fas fa-times"),v(a,"class","close-side-bar"),v(c,"class","profile"),$(c,"!py-8",s[3]),v(f,"class","navbar"),v(e,"class","side-bar"),$(e,"activado",s[0])},m(i,g){E(i,e,g),T(e,a),T(a,t),T(e,p),T(e,c),r[n].m(c,null),T(e,o),T(e,f);for(let O=0;O<_.length;O+=1)_[O]&&_[O].m(f,null);h=!0,m||(P=L(t,"click",s[5]),m=!0)},p(i,[g]){let O=n;if(n=d(i),n===O?r[n].p(i,g):(me(),S(r[O],1,1,()=>{r[O]=null}),pe(),u=r[n],u?u.p(i,g):(u=r[n]=k[n](i),u.c()),H(u,1),u.m(c,null)),(!h||g&8)&&$(c,"!py-8",i[3]),g&2){l=R(i[1]&&i[1].membresia==="Anunciante"?y.ANUNCIANTE:y.MAIN);let A;for(A=0;A<l.length;A+=1){const D=Q(i,l,A);_[A]?_[A].p(D,g):(_[A]=W(D),_[A].c(),_[A].m(f,null))}for(;A<_.length;A+=1)_[A].d(1);_.length=l.length}(!h||g&1)&&$(e,"activado",i[0])},i(i){h||(H(u),h=!0)},o(i){S(u),h=!1},d(i){i&&b(e),r[n].d(),ae(_,i),m=!1,P()}}}function He(s,e,a){let{activado:t}=e,p,c,n;const u=J.subscribe(m=>{a(1,p=m)}),o=Ne.subscribe(m=>{a(2,c=m.perfil)}),f=()=>{sessionStorage.removeItem("user_id"),J.set(void 0)};Y(()=>{u(),o()});const h=()=>{a(0,t=!1)};return s.$$set=m=>{"activado"in m&&a(0,t=m.activado)},s.$$.update=()=>{s.$$.dirty&6&&a(3,n=!c&&!(p!=null&&p.correo))},[t,p,c,n,f,h]}class De extends Z{constructor(e){super(),x(this,e,He,Se,X,{activado:0})}}function ye(s){let e,a,t,p,c,n,u='<i class="fas fa-bars"></i>',o,f,h,m;function P(l){s[5](l)}let k={};s[1]!==void 0&&(k.activado=s[1]),a=new De({props:k}),ne.push(()=>he(a,"activado",P));const r=s[4].default,d=re(r,s,s[3],null);return{c(){e=I("div"),z(a.$$.fragment),p=B(),c=I("div"),n=I("div"),n.innerHTML=u,o=B(),d&&d.c(),this.h()},l(l){e=N(l,"DIV",{class:!0});var _=C(e);U(a.$$.fragment,_),p=w(_),c=N(_,"DIV",{class:!0});var i=C(c);n=N(i,"DIV",{class:!0,"data-svelte-h":!0}),oe(n)!=="svelte-mz6qfj"&&(n.innerHTML=u),i.forEach(b),o=w(_),d&&d.l(_),_.forEach(b),this.h()},h(){v(n,"class","flex text-[2rem] text-[var(--black)] rounded-lg w-[4.5rem] h-[4.5rem] cursor-pointer lead-[4.4rem] bg-[var(--light-bg)] justify-center items-center"),v(c,"class","lg:hidden flex justify-end p-8 pb-0"),v(e,"class","layout"),$(e,"dark",s[0])},m(l,_){E(l,e,_),q(a,e,null),T(e,p),T(e,c),T(c,n),T(e,o),d&&d.m(e,null),f=!0,h||(m=L(n,"click",le(s[6])),h=!0)},p(l,[_]){const i={};!t&&_&2&&(t=!0,i.activado=l[1],ie(()=>t=!1)),a.$set(i),d&&d.p&&(!f||_&8)&&ce(d,r,l,l[3],f?ue(r,l[3],_,null):fe(l[3]),null),(!f||_&1)&&$(e,"dark",l[0])},i(l){f||(H(a.$$.fragment,l),H(d,l),f=!0)},o(l){S(a.$$.fragment,l),S(d,l),f=!1},d(l){l&&b(e),F(a),d&&d.d(l),h=!1,m()}}}function Me(s,e,a){let t;_e(s,Oe,m=>a(2,t=m));let{$$slots:p={},$$scope:c}=e,n,u,o;de(async()=>{a(0,n=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",m=>{a(0,n=m.matches)}),u=await $e()}),Y(()=>{u&&Te(u)});function f(m){o=m,a(1,o)}const h=()=>{a(1,o=!0)};return s.$$set=m=>{"$$scope"in m&&a(3,c=m.$$scope)},s.$$.update=()=>{s.$$.dirty&4&&t&&ee()},[n,o,t,c,p,f,h]}class Qe extends Z{constructor(e){super(),x(this,e,Me,ye,X,{})}}export{Qe as component,Ke as universal};
