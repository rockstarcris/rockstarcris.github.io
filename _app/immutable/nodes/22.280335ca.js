import{s as z,f as d,a as S,l as U,g as h,h as g,d as f,c as R,m as Y,j as v,i as b,u,n as j,A as se,M as _t,y as k,o as ct,e as x,w as ye,V as Ke,r as Oe,v as mt,K as dt}from"../chunks/scheduler.aba5b0ee.js";import{S as Q,i as W,b as V,d as D,m as N,a as w,t as P,e as M,g as pe,c as $e}from"../chunks/index.62cbe4b4.js";import{b as ht,a as pt}from"../chunks/index.esm.56b6a403.js";import{Q as ge}from"../chunks/query-db.component.306eebe4.js";import{q as Se,e as ce}from"../chunks/state.43a53f62.js";import{I as je,h as Xe,u as ft,E as $t}from"../chunks/img.component.b5edab59.js";import{F as Be}from"../chunks/fecha.component.57b5a18e.js";import{a as ut}from"../chunks/mantener-con-vida.function.4459e654.js";import{p as gt}from"../chunks/prueba.function.f2d7e92a.js";import{c as Et}from"../chunks/create-form.9846533c.js";import{v as vt}from"../chunks/v4.a960c1f4.js";import{u as bt}from"../chunks/update-db.function.6130eeed.js";const F={YOUTUBE_TEST:/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/|youtu\.be\/)/,YOUTUBE_REPLACE:/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:live\/)?)?(?:youtu\.be\/)?(.+)$/,YOUTUBE_REPLACE_TO:"https://www.youtube.com/embed/$1",VIMEO_TEST:/^(?:https?:\/\/)?(?:www\.)?(?:player\.)?vimeo\.com\//,VIMEO_REPLACE:/^(?:https?:\/\/)?(?:www\.)?vimeo\.com\/(\d+)$/,VIMEO_REPLACE_TO:"https://player.vimeo.com/video/$1",ODYSEE_TEST:/^https:\/\/(odysee\.com|odysee\.com\/\$\/embed)\/(@[^:]+:[^\/]+\/[^?]+)(\?r=[^&]+)?$/,ODYSEE_REPLACE:/https:\/\/odysee\.com\/(.+)/g,ODYSEE_REPLACE_TO:"https://odysee.com/$/embed/$1"},Je=[{TITLE:"YouTube",ALLOW:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",TEST_REGEX:F.YOUTUBE_TEST,REPLACE_REGEX:F.YOUTUBE_REPLACE,REPLACE_TO:F.YOUTUBE_REPLACE_TO},{TITLE:"Vimeo",TEST_REGEX:F.VIMEO_TEST,REPLACE_REGEX:F.VIMEO_REPLACE,REPLACE_TO:F.VIMEO_REPLACE_TO},{TITLE:"Odysee",TEST_REGEX:F.ODYSEE_TEST,REPLACE_REGEX:F.ODYSEE_REPLACE,REPLACE_TO:F.ODYSEE_REPLACE_TO}],Tt="auto";function wt({params:r}){return{promoción_id:r.promocion_id,contenido_id:r.contenido_id}}const bn=Object.freeze(Object.defineProperty({__proto__:null,load:wt,prerender:Tt},Symbol.toStringTag,{value:"Module"}));function Ct(r){let t,o;return t=new je({props:{slot:"artículo",src:"/perfil/"+r[2].imagen}}),{c(){V(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,n){N(t,e,n),o=!0},p(e,n){const l={};n&4&&(l.src="/perfil/"+e[2].imagen),t.$set(l)},i(e){o||(w(t.$$.fragment,e),o=!0)},o(e){P(t.$$.fragment,e),o=!1},d(e){M(t,e)}}}function At(r){let t,o,e,n,l=r[1].nombre+"",i,a,s,c,$;return t=new ge({props:{collection_id:"usuarios",clave:"id",valor:r[0].user_id,$$slots:{artículo:[Ct,({artículo:_})=>({2:_}),({artículo:_})=>_?4:0]},$$scope:{ctx:r}}}),c=new Be({props:{timestamp:r[0].fecha}}),{c(){V(t.$$.fragment),o=S(),e=d("div"),n=d("h3"),i=U(l),a=S(),s=d("span"),V(c.$$.fragment)},l(_){D(t.$$.fragment,_),o=R(_),e=h(_,"DIV",{});var A=g(e);n=h(A,"H3",{});var m=g(n);i=Y(m,l),m.forEach(f),a=R(A),s=h(A,"SPAN",{});var C=g(s);D(c.$$.fragment,C),C.forEach(f),A.forEach(f)},m(_,A){N(t,_,A),b(_,o,A),b(_,e,A),u(e,n),u(n,i),u(e,a),u(e,s),N(c,s,null),$=!0},p(_,A){const m={};A&1&&(m.valor=_[0].user_id),A&12&&(m.$$scope={dirty:A,ctx:_}),t.$set(m),(!$||A&2)&&l!==(l=_[1].nombre+"")&&j(i,l);const C={};A&1&&(C.timestamp=_[0].fecha),c.$set(C)},i(_){$||(w(t.$$.fragment,_),w(c.$$.fragment,_),$=!0)},o(_){P(t.$$.fragment,_),P(c.$$.fragment,_),$=!1},d(_){_&&(f(o),f(e)),M(t,_),M(c)}}}function Pt(r){let t,o,e,n,l=r[0].comentario+"",i,a;return o=new ge({props:{collection_id:"usuarios",clave:"id",valor:r[0].user_id,$$slots:{artículo:[At,({artículo:s})=>({1:s}),({artículo:s})=>s?2:0]},$$scope:{ctx:r}}}),{c(){t=d("div"),V(o.$$.fragment),e=S(),n=d("p"),i=U(l),this.h()},l(s){t=h(s,"DIV",{class:!0});var c=g(t);D(o.$$.fragment,c),c.forEach(f),e=R(s),n=h(s,"P",{class:!0});var $=g(n);i=Y($,l),$.forEach(f),this.h()},h(){v(t,"class","user"),v(n,"class","text")},m(s,c){b(s,t,c),N(o,t,null),b(s,e,c),b(s,n,c),u(n,i),a=!0},p(s,[c]){const $={};c&1&&($.valor=s[0].user_id),c&11&&($.$$scope={dirty:c,ctx:s}),o.$set($),(!a||c&1)&&l!==(l=s[0].comentario+"")&&j(i,l)},i(s){a||(w(o.$$.fragment,s),a=!0)},o(s){P(o.$$.fragment,s),a=!1},d(s){s&&(f(t),f(e),f(n)),M(o)}}}function kt(r,t,o){let{comentario:e}=t;return r.$$set=n=>{"comentario"in n&&o(0,e=n.comentario)},[e]}class Ot extends Q{constructor(t){super(),W(this,t,kt,Pt,z,{comentario:0})}}function St(r){let t,o='<textarea name="comentario" required="" placeholder="Escribe tu comentario..." maxlength="1000" cols="30" rows="10"></textarea> <input type="submit" value="Comentar" class="inline-btn"/>',e,n;return{c(){t=d("form"),t.innerHTML=o,this.h()},l(l){t=h(l,"FORM",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-19ro58i"&&(t.innerHTML=o),this.h()},h(){v(t,"class","add-comment")},m(l,i){b(l,t,i),e||(n=_t(r[0].call(null,t)),e=!0)},p:k,i:k,o:k,d(l){l&&f(t),e=!1,n()}}}function Rt(r,t,o){let{contenido_id:e,promoción_id:n}=t,l;ct(async()=>{l=(await Se("contenido","id",e))[0]});const{form:i}=Et({onSubmit:async a=>{const s=vt();await gt(async()=>{ut("comentarios",s,{...a,id:s,tutor_id:l.tutor_id,fecha:new Date().getTime(),user_id:sessionStorage.getItem("user_id"),contenido_id:e,promocion_id:n})})}});return r.$$set=a=>{"contenido_id"in a&&o(1,e=a.contenido_id),"promoción_id"in a&&o(2,n=a.promoción_id)},[i,e,n]}class It extends Q{constructor(t){super(),W(this,t,Rt,St,z,{contenido_id:1,promoción_id:2})}}function Lt(r){let t,o,e;return o=new Ot({props:{comentario:r[2],promoción_id:r[1]}}),{c(){t=d("div"),V(o.$$.fragment),this.h()},l(n){t=h(n,"DIV",{class:!0,slot:!0});var l=g(t);D(o.$$.fragment,l),l.forEach(f),this.h()},h(){v(t,"class","box"),v(t,"slot","artículo")},m(n,l){b(n,t,l),N(o,t,null),e=!0},p(n,l){const i={};l&4&&(i.comentario=n[2]),l&2&&(i.promoción_id=n[1]),o.$set(i)},i(n){e||(w(o.$$.fragment,n),e=!0)},o(n){P(o.$$.fragment,n),e=!1},d(n){n&&f(t),M(o)}}}function Vt(r){let t,o="Se el primero en comentar!";return{c(){t=d("p"),t.textContent=o,this.h()},l(e){t=h(e,"P",{class:!0,slot:!0,"data-svelte-h":!0}),se(t)!=="svelte-scewzj"&&(t.textContent=o),this.h()},h(){v(t,"class","empty"),v(t,"slot","vacío")},m(e,n){b(e,t,n)},p:k,d(e){e&&f(t)}}}function Dt(r){let t,o,e="Agrega un comentario",n,l,i,a,s="Comentarios Rock",c,$,_,A;return l=new It({props:{contenido_id:r[0],promoción_id:r[1]}}),_=new ge({props:{collection_id:"comentarios",clave:"contenido_id",valor:r[0],$$slots:{vacío:[Vt],artículo:[Lt,({artículo:m})=>({2:m}),({artículo:m})=>m?4:0]},$$scope:{ctx:r}}}),{c(){t=d("section"),o=d("h1"),o.textContent=e,n=S(),V(l.$$.fragment),i=S(),a=d("h1"),a.textContent=s,c=S(),$=d("div"),V(_.$$.fragment),this.h()},l(m){t=h(m,"SECTION",{class:!0});var C=g(t);o=h(C,"H1",{class:!0,"data-svelte-h":!0}),se(o)!=="svelte-1n1u2ho"&&(o.textContent=e),n=R(C),D(l.$$.fragment,C),i=R(C),a=h(C,"H1",{class:!0,"data-svelte-h":!0}),se(a)!=="svelte-1lb57hy"&&(a.textContent=s),c=R(C),$=h(C,"DIV",{class:!0});var T=g($);D(_.$$.fragment,T),T.forEach(f),C.forEach(f),this.h()},h(){v(o,"class","heading"),v(a,"class","heading"),v($,"class","show-comments"),v(t,"class","comments")},m(m,C){b(m,t,C),u(t,o),u(t,n),N(l,t,null),u(t,i),u(t,a),u(t,c),u(t,$),N(_,$,null),A=!0},p(m,[C]){const T={};C&1&&(T.contenido_id=m[0]),C&2&&(T.promoción_id=m[1]),l.$set(T);const O={};C&1&&(O.valor=m[0]),C&14&&(O.$$scope={dirty:C,ctx:m}),_.$set(O)},i(m){A||(w(l.$$.fragment,m),w(_.$$.fragment,m),A=!0)},o(m){P(l.$$.fragment,m),P(_.$$.fragment,m),A=!1},d(m){m&&f(t),M(l),M(_)}}}function Nt(r,t,o){let{contenido_id:e}=t,{promoción_id:n}=t;return r.$$set=l=>{"contenido_id"in l&&o(0,e=l.contenido_id),"promoción_id"in l&&o(1,n=l.promoción_id)},[e,n]}class Mt extends Q{constructor(t){super(),W(this,t,Nt,Dt,z,{contenido_id:0,promoción_id:1})}}function Ze(r,t,o){const e=r.slice();return e[1]=t[o],e}function xe(r){let t,o;return{c(){t=d("iframe"),this.h()},l(e){t=h(e,"IFRAME",{class:!0,src:!0,title:!0,frameborder:!0,allow:!0}),g(t).forEach(f),this.h()},h(){v(t,"class","aspect-video w-full"),Ke(t.src,o=r[0].replace(r[1].REPLACE_REGEX,r[1].REPLACE_TO))||v(t,"src",o),v(t,"title","YouTube video player"),v(t,"frameborder","0"),v(t,"allow",r[1].ALLOW),t.allowFullscreen=!0},m(e,n){b(e,t,n)},p(e,n){n&1&&!Ke(t.src,o=e[0].replace(e[1].REPLACE_REGEX,e[1].REPLACE_TO))&&v(t,"src",o)},d(e){e&&f(t)}}}function et(r){let t=r[0].match(r[1].TEST_REGEX),o,e=t&&xe(r);return{c(){e&&e.c(),o=x()},l(n){e&&e.l(n),o=x()},m(n,l){e&&e.m(n,l),b(n,o,l)},p(n,l){l&1&&(t=n[0].match(n[1].TEST_REGEX)),t?e?e.p(n,l):(e=xe(n),e.c(),e.m(o.parentNode,o)):e&&(e.d(1),e=null)},d(n){n&&f(o),e&&e.d(n)}}}function qt(r){let t,o=ce(Je),e=[];for(let n=0;n<o.length;n+=1)e[n]=et(Ze(r,o,n));return{c(){for(let n=0;n<e.length;n+=1)e[n].c();t=x()},l(n){for(let l=0;l<e.length;l+=1)e[l].l(n);t=x()},m(n,l){for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(n,l);b(n,t,l)},p(n,[l]){if(l&1){o=ce(Je);let i;for(i=0;i<o.length;i+=1){const a=Ze(n,o,i);e[i]?e[i].p(a,l):(e[i]=et(a),e[i].c(),e[i].m(t.parentNode,t))}for(;i<e.length;i+=1)e[i].d(1);e.length=o.length}},i:k,o:k,d(n){n&&f(t),ye(e,n)}}}function Ut(r,t,o){let{url:e}=t;return r.$$set=n=>{"url"in n&&o(0,e=n.url)},[e]}class Yt extends Q{constructor(t){super(),W(this,t,Ut,qt,z,{url:0})}}function Gt(r){let t,o,e,n,l=r[0].nombre+"",i,a,s,c=r[0].profesión+"",$,_,A,m,C;return t=new je({props:{src:"perfil/"+r[0].imagen}}),m=new Be({props:{timestamp:r[0].fecha}}),{c(){V(t.$$.fragment),o=S(),e=d("div"),n=d("h3"),i=U(l),a=S(),s=d("span"),$=U(c),_=S(),A=d("span"),V(m.$$.fragment)},l(T){D(t.$$.fragment,T),o=R(T),e=h(T,"DIV",{});var O=g(e);n=h(O,"H3",{});var G=g(n);i=Y(G,l),G.forEach(f),a=R(O),s=h(O,"SPAN",{});var y=g(s);$=Y(y,c),y.forEach(f),_=R(O),A=h(O,"SPAN",{});var oe=g(A);D(m.$$.fragment,oe),oe.forEach(f),O.forEach(f)},m(T,O){N(t,T,O),b(T,o,O),b(T,e,O),u(e,n),u(n,i),u(e,a),u(e,s),u(s,$),u(e,_),u(e,A),N(m,A,null),C=!0},p(T,[O]){const G={};O&1&&(G.src="perfil/"+T[0].imagen),t.$set(G),(!C||O&1)&&l!==(l=T[0].nombre+"")&&j(i,l),(!C||O&1)&&c!==(c=T[0].profesión+"")&&j($,c);const y={};O&1&&(y.timestamp=T[0].fecha),m.$set(y)},i(T){C||(w(t.$$.fragment,T),w(m.$$.fragment,T),C=!0)},o(T){P(t.$$.fragment,T),P(m.$$.fragment,T),C=!1},d(T){T&&(f(o),f(e)),M(t,T),M(m)}}}function Xt(r,t,o){let{tutor:e}=t;return r.$$set=n=>{"tutor"in n&&o(0,e=n.tutor)},[e]}class yt extends Q{constructor(t){super(),W(this,t,Xt,Gt,z,{tutor:0})}}function jt(r){return{c:k,l:k,m:k,p:k,d:k}}function Bt(r){let t,o=r[0]?"me guste":"me gusta",e;return{c(){t=d("span"),e=U(o),this.h()},l(n){t=h(n,"SPAN",{class:!0});var l=g(t);e=Y(l,o),l.forEach(f),this.h()},h(){v(t,"class","capitalize"),Oe(t,"animate-pulse",r[1])},m(n,l){b(n,t,l),u(t,e)},p(n,l){l&1&&o!==(o=n[0]?"me guste":"me gusta")&&j(e,o),l&2&&Oe(t,"animate-pulse",n[1])},d(n){n&&f(t)}}}function Ht(r){let t,o=" ";return{c(){t=d("span"),t.textContent=o,this.h()},l(e){t=h(e,"SPAN",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-15qf0bo"&&(t.textContent=o),this.h()},h(){v(t,"class","capitalize "+$t.CARGANDO_SPAN)},m(e,n){b(e,t,n)},p:k,d(e){e&&f(t)}}}function Ft(r){let t,o,e,n,l,i={ctx:r,current:null,token:null,hasCatch:!1,pending:Ht,then:Bt,catch:jt};return Xe(r[3](),i),{c(){t=d("button"),o=d("i"),e=S(),i.block.c(),this.h()},l(a){t=h(a,"BUTTON",{});var s=g(t);o=h(s,"I",{class:!0}),g(o).forEach(f),e=R(s),i.block.l(s),s.forEach(f),this.h()},h(){v(o,"class","far fa-heart"),Oe(o,"fas",r[0])},m(a,s){b(a,t,s),u(t,o),u(t,e),i.block.m(t,i.anchor=null),i.mount=()=>t,i.anchor=null,n||(l=mt(t,"click",r[2]),n=!0)},p(a,[s]){r=a,s&1&&Oe(o,"fas",r[0]),ft(i,r,s)},i:k,o:k,d(a){a&&f(t),i.block.d(),i.token=null,i=null,n=!1,l()}}}function zt(r,t,o){let{user_id:e}=t,{contenido_id:n}=t,l,i;const a=async()=>{const c=async()=>{await bt("me_gustas",e,{lista:(l?ht:pt)(n)})};o(1,i=!0);try{await c()}catch($){$.message.includes("No document to update")&&(await ut("me_gustas",e,{lista:[n]}),await c())}o(1,i=!1),s()},s=async()=>{var $,_;const c=(_=($=await Se("me_gustas","doc_id",e))==null?void 0:$[0])==null?void 0:_.lista;o(0,l=c==null?void 0:c.includes(n))};return r.$$set=c=>{"user_id"in c&&o(4,e=c.user_id),"contenido_id"in c&&o(5,n=c.contenido_id)},[l,i,a,s,e,n]}class Qt extends Q{constructor(t){super(),W(this,t,zt,Ft,z,{user_id:4,contenido_id:5})}}function tt(r,t,o){const e=r.slice();return e[5]=t[o],e}function nt(r,t,o){const e=r.slice();return e[9]=t[o],e}function ot(r){let t,o,e=ce(r[2].videos),n=[];for(let a=0;a<e.length;a+=1)n[a]=it(nt(r,e,a));const l=a=>P(n[a],1,1,()=>{n[a]=null});let i=null;return e.length||(i=rt()),{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=x(),i&&i.c()},l(a){for(let s=0;s<n.length;s+=1)n[s].l(a);t=x(),i&&i.l(a)},m(a,s){for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(a,s);b(a,t,s),i&&i.m(a,s),o=!0},p(a,s){if(s&4){e=ce(a[2].videos);let c;for(c=0;c<e.length;c+=1){const $=nt(a,e,c);n[c]?(n[c].p($,s),w(n[c],1)):(n[c]=it($),n[c].c(),w(n[c],1),n[c].m(t.parentNode,t))}for(pe(),c=e.length;c<n.length;c+=1)l(c);$e(),!e.length&&i?i.p(a,s):e.length?i&&(i.d(1),i=null):(i=rt(),i.c(),i.m(t.parentNode,t))}},i(a){if(!o){for(let s=0;s<e.length;s+=1)w(n[s]);o=!0}},o(a){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)P(n[s]);o=!1},d(a){a&&f(t),ye(n,a),i&&i.d(a)}}}function rt(r){let t,o=`Aún no se agregan anuncios!
				<a href="#" class="btn" style="margin-top: 1.5rem;">add videos</a> `;return{c(){t=d("p"),t.innerHTML=o,this.h()},l(e){t=h(e,"P",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-10vzas2"&&(t.innerHTML=o),this.h()},h(){v(t,"class","empty")},m(e,n){b(e,t,n)},p:k,d(e){e&&f(t)}}}function it(r){let t,o;return t=new Yt({props:{url:r[9]}}),{c(){V(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,n){N(t,e,n),o=!0},p(e,n){const l={};n&4&&(l.url=e[9]),t.$set(l)},i(e){o||(w(t.$$.fragment,e),o=!0)},o(e){P(t.$$.fragment,e),o=!1},d(e){M(t,e)}}}function lt(r){let t,o;return t=new ge({props:{collection_id:"me_gustas",clave:"doc_id",valor:r[3],$$slots:{artículo:[Wt,({artículo:e})=>({8:e}),({artículo:e})=>e?256:0]},$$scope:{ctx:r}}}),{c(){V(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,n){N(t,e,n),o=!0},p(e,n){const l={};n&8&&(l.valor=e[3]),n&4352&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){o||(w(t.$$.fragment,e),o=!0)},o(e){P(t.$$.fragment,e),o=!1},d(e){M(t,e)}}}function Wt(r){let t=r[8].lista.length+"",o;return{c(){o=U(t)},l(e){o=Y(e,t)},m(e,n){b(e,o,n)},p(e,n){n&256&&t!==(t=e[8].lista.length+"")&&j(o,t)},d(e){e&&f(o)}}}function Kt(r){return{c:k,l:k,m:k,p:k,i:k,o:k,d:k}}function Jt(r){let t,o,e=ce(r[4]),n=[];for(let i=0;i<e.length;i+=1)n[i]=at(tt(r,e,i));const l=i=>P(n[i],1,1,()=>{n[i]=null});return{c(){for(let i=0;i<n.length;i+=1)n[i].c();t=x()},l(i){for(let a=0;a<n.length;a+=1)n[a].l(i);t=x()},m(i,a){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(i,a);b(i,t,a),o=!0},p(i,a){if(a&4){e=ce(i[4]);let s;for(s=0;s<e.length;s+=1){const c=tt(i,e,s);n[s]?(n[s].p(c,a),w(n[s],1)):(n[s]=at(c),n[s].c(),w(n[s],1),n[s].m(t.parentNode,t))}for(pe(),s=e.length;s<n.length;s+=1)l(s);$e()}},i(i){if(!o){for(let a=0;a<e.length;a+=1)w(n[a]);o=!0}},o(i){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)P(n[a]);o=!1},d(i){i&&f(t),ye(n,i)}}}function at(r){let t,o;return t=new yt({props:{tutor:r[5]}}),{c(){V(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,n){N(t,e,n),o=!0},p(e,n){const l={};n&4&&(l.tutor=e[5]),t.$set(l)},i(e){o||(w(t.$$.fragment,e),o=!0)},o(e){P(t.$$.fragment,e),o=!1},d(e){M(t,e)}}}function Zt(r){return{c:k,l:k,m:k,p:k,i:k,o:k,d:k}}function xt(r){let t,o,e,n,l,i=r[2].título+"",a,s,c,$,_,A,m,C,T,O,G,y,oe,re,fe,ie,Re,ue=r[2].tipo+"",Ee,Ie,le,_e,ae,Le,me=r[2].porcentaje+"",ve,be,K,Te,we,B,J,Ve,Ce,De,Z,Ae,ee,de,he=r[2].descripción+"",Pe,H;t=new je({props:{src:"contenido/"+r[2].promo,class:"promo w-full mb-1"}});let I=r[2]&&ot(r);m=new Be({props:{timestamp:r[2].fecha}});let L=r[3]&&lt(r),q={ctx:r,current:null,token:null,hasCatch:!1,pending:Zt,then:Jt,catch:Kt,value:4,blocks:[,,,]};return Xe(Te=Se("usuarios","id",r[2].tutor_id),q),Z=new Qt({props:{user_id:r[3],contenido_id:r[1]}}),{c(){V(t.$$.fragment),o=S(),e=d("div"),I&&I.c(),n=S(),l=d("h3"),a=U(i),s=S(),c=d("div"),$=d("p"),_=d("i"),A=d("span"),V(m.$$.fragment),C=S(),T=d("p"),O=d("i"),G=d("span"),L&&L.c(),y=U(`
			me gustas`),oe=S(),re=d("p"),fe=d("i"),ie=d("span"),Re=U("Tipo: "),Ee=U(ue),Ie=S(),le=d("p"),_e=d("i"),ae=d("span"),Le=U("Porcentaje: "),ve=U(me),be=S(),K=d("div"),q.block.c(),we=S(),B=d("div"),J=d("a"),Ve=U("Ver promoción"),De=S(),V(Z.$$.fragment),Ae=S(),ee=d("div"),de=d("p"),Pe=U(he),this.h()},l(p){D(t.$$.fragment,p),o=R(p),e=h(p,"DIV",{class:!0});var E=g(e);I&&I.l(E),E.forEach(f),n=R(p),l=h(p,"H3",{class:!0});var te=g(l);a=Y(te,i),te.forEach(f),s=R(p),c=h(p,"DIV",{class:!0});var X=g(c);$=h(X,"P",{});var ne=g($);_=h(ne,"I",{class:!0}),g(_).forEach(f),A=h(ne,"SPAN",{});var He=g(A);D(m.$$.fragment,He),He.forEach(f),ne.forEach(f),C=R(X),T=h(X,"P",{});var Ne=g(T);O=h(Ne,"I",{class:!0}),g(O).forEach(f),G=h(Ne,"SPAN",{});var Me=g(G);L&&L.l(Me),y=Y(Me,`
			me gustas`),Me.forEach(f),Ne.forEach(f),oe=R(X),re=h(X,"P",{});var qe=g(re);fe=h(qe,"I",{class:!0}),g(fe).forEach(f),ie=h(qe,"SPAN",{});var Ue=g(ie);Re=Y(Ue,"Tipo: "),Ee=Y(Ue,ue),Ue.forEach(f),qe.forEach(f),Ie=R(X),le=h(X,"P",{});var Ye=g(le);_e=h(Ye,"I",{class:!0}),g(_e).forEach(f),ae=h(Ye,"SPAN",{});var Ge=g(ae);Le=Y(Ge,"Porcentaje: "),ve=Y(Ge,me),Ge.forEach(f),Ye.forEach(f),X.forEach(f),be=R(p),K=h(p,"DIV",{class:!0});var Fe=g(K);q.block.l(Fe),Fe.forEach(f),we=R(p),B=h(p,"DIV",{class:!0});var ke=g(B);J=h(ke,"A",{href:!0,class:!0});var ze=g(J);Ve=Y(ze,"Ver promoción"),ze.forEach(f),De=R(ke),D(Z.$$.fragment,ke),ke.forEach(f),Ae=R(p),ee=h(p,"DIV",{class:!0});var Qe=g(ee);de=h(Qe,"P",{});var We=g(de);Pe=Y(We,he),We.forEach(f),Qe.forEach(f),this.h()},h(){v(e,"class","grid grid-cols-2 gap-1 justify-center items-center"),v(l,"class","title"),v(_,"class","fas fa-calendar"),v(O,"class","fas fa-heart"),v(fe,"class","fas fa-duotone fa-icons"),v(_e,"class","fa-solid fa-tag"),v(c,"class","info"),v(K,"class","tutor"),v(J,"href",Ce="/lista-promociones/"+r[0]),v(J,"class","inline-btn"),v(B,"class","flex"),v(ee,"class","description")},m(p,E){N(t,p,E),b(p,o,E),b(p,e,E),I&&I.m(e,null),b(p,n,E),b(p,l,E),u(l,a),b(p,s,E),b(p,c,E),u(c,$),u($,_),u($,A),N(m,A,null),u(c,C),u(c,T),u(T,O),u(T,G),L&&L.m(G,null),u(G,y),u(c,oe),u(c,re),u(re,fe),u(re,ie),u(ie,Re),u(ie,Ee),u(c,Ie),u(c,le),u(le,_e),u(le,ae),u(ae,Le),u(ae,ve),b(p,be,E),b(p,K,E),q.block.m(K,q.anchor=null),q.mount=()=>K,q.anchor=null,b(p,we,E),b(p,B,E),u(B,J),u(J,Ve),u(B,De),N(Z,B,null),b(p,Ae,E),b(p,ee,E),u(ee,de),u(de,Pe),H=!0},p(p,[E]){r=p;const te={};E&4&&(te.src="contenido/"+r[2].promo),t.$set(te),r[2]?I?(I.p(r,E),E&4&&w(I,1)):(I=ot(r),I.c(),w(I,1),I.m(e,null)):I&&(pe(),P(I,1,1,()=>{I=null}),$e()),(!H||E&4)&&i!==(i=r[2].título+"")&&j(a,i);const X={};E&4&&(X.timestamp=r[2].fecha),m.$set(X),r[3]?L?(L.p(r,E),E&8&&w(L,1)):(L=lt(r),L.c(),w(L,1),L.m(G,y)):L&&(pe(),P(L,1,1,()=>{L=null}),$e()),(!H||E&4)&&ue!==(ue=r[2].tipo+"")&&j(Ee,ue),(!H||E&4)&&me!==(me=r[2].porcentaje+"")&&j(ve,me),q.ctx=r,E&4&&Te!==(Te=Se("usuarios","id",r[2].tutor_id))&&Xe(Te,q)||ft(q,r,E),(!H||E&1&&Ce!==(Ce="/lista-promociones/"+r[0]))&&v(J,"href",Ce);const ne={};E&8&&(ne.user_id=r[3]),E&2&&(ne.contenido_id=r[1]),Z.$set(ne),(!H||E&4)&&he!==(he=r[2].descripción+"")&&j(Pe,he)},i(p){H||(w(t.$$.fragment,p),w(I),w(m.$$.fragment,p),w(L),w(q.block),w(Z.$$.fragment,p),H=!0)},o(p){P(t.$$.fragment,p),P(I),P(m.$$.fragment,p),P(L);for(let E=0;E<3;E+=1){const te=q.blocks[E];P(te)}P(Z.$$.fragment,p),H=!1},d(p){p&&(f(o),f(e),f(n),f(l),f(s),f(c),f(be),f(K),f(we),f(B),f(Ae),f(ee)),M(t,p),I&&I.d(),M(m),L&&L.d(),q.block.d(),q.token=null,q=null,M(Z)}}}function en(r,t,o){let{lista_promocion_id:e}=t,{contenido_id:n}=t,{contenido:l}=t,i;return ct(()=>{o(3,i=sessionStorage.getItem("user_id"))}),r.$$set=a=>{"lista_promocion_id"in a&&o(0,e=a.lista_promocion_id),"contenido_id"in a&&o(1,n=a.contenido_id),"contenido"in a&&o(2,l=a.contenido)},[e,n,l,i]}class tn extends Q{constructor(t){super(),W(this,t,en,xt,z,{lista_promocion_id:0,contenido_id:1,contenido:2})}}function st(r){let t,o;return t=new ge({props:{collection_id:"contenido",clave:"id",valor:r[1],$$slots:{artículo:[nn,({artículo:e})=>({2:e}),({artículo:e})=>e?4:0]},$$scope:{ctx:r}}}),{c(){V(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,n){N(t,e,n),o=!0},p(e,n){const l={};n&2&&(l.valor=e[1]),n&15&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){o||(w(t.$$.fragment,e),o=!0)},o(e){P(t.$$.fragment,e),o=!1},d(e){M(t,e)}}}function nn(r){let t,o;return t=new tn({props:{slot:"artículo",contenido:r[2],lista_promocion_id:r[0],contenido_id:r[1]}}),{c(){V(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,n){N(t,e,n),o=!0},p(e,n){const l={};n&4&&(l.contenido=e[2]),n&1&&(l.lista_promocion_id=e[0]),n&2&&(l.contenido_id=e[1]),t.$set(l)},i(e){o||(w(t.$$.fragment,e),o=!0)},o(e){P(t.$$.fragment,e),o=!1},d(e){M(t,e)}}}function on(r){let t,o,e,n=r[1]&&st(r);return{c(){t=d("section"),o=d("div"),n&&n.c(),this.h()},l(l){t=h(l,"SECTION",{class:!0});var i=g(t);o=h(i,"DIV",{class:!0});var a=g(o);n&&n.l(a),a.forEach(f),i.forEach(f),this.h()},h(){v(o,"class","detalles-anuncio"),v(t,"class","ver-anuncio")},m(l,i){b(l,t,i),u(t,o),n&&n.m(o,null),e=!0},p(l,[i]){l[1]?n?(n.p(l,i),i&2&&w(n,1)):(n=st(l),n.c(),w(n,1),n.m(o,null)):n&&(pe(),P(n,1,1,()=>{n=null}),$e())},i(l){e||(w(n),e=!0)},o(l){P(n),e=!1},d(l){l&&f(t),n&&n.d()}}}function rn(r,t,o){let{lista_promocion_id:e}=t,{contenido_id:n}=t;return r.$$set=l=>{"lista_promocion_id"in l&&o(0,e=l.lista_promocion_id),"contenido_id"in l&&o(1,n=l.contenido_id)},[e,n]}class ln extends Q{constructor(t){super(),W(this,t,rn,on,z,{lista_promocion_id:0,contenido_id:1})}}function an(r){let t,o,e,n,l;return o=new ln({props:{lista_promocion_id:r[0],contenido_id:r[1]}}),n=new Mt({props:{contenido_id:r[1],promoción_id:r[0]}}),{c(){t=S(),V(o.$$.fragment),e=S(),V(n.$$.fragment),this.h()},l(i){dt("svelte-149s2tg",document.head).forEach(f),t=R(i),D(o.$$.fragment,i),e=R(i),D(n.$$.fragment,i),this.h()},h(){document.title="Ver Anuncio"},m(i,a){b(i,t,a),N(o,i,a),b(i,e,a),N(n,i,a),l=!0},p:k,i(i){l||(w(o.$$.fragment,i),w(n.$$.fragment,i),l=!0)},o(i){P(o.$$.fragment,i),P(n.$$.fragment,i),l=!1},d(i){i&&(f(t),f(e)),M(o,i),M(n,i)}}}function sn(r,t,o){let{data:e}=t;const{promoción_id:n,contenido_id:l}=e;return r.$$set=i=>{"data"in i&&o(2,e=i.data)},[n,l,e]}class Tn extends Q{constructor(t){super(),W(this,t,sn,an,z,{data:2})}}export{Tn as component,bn as universal};
